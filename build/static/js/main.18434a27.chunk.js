(this.webpackJsonpguild_app=this.webpackJsonpguild_app||[]).push([[0],{110:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),c=r(28),s=r.n(c),o=r(44),i=r(17),u=r(10),l=r(3),d=r.n(l),p=r(4),j=r(15),h=r(16),b=r(6),f="https://app.sfaudioguild.com",x="sfguildsubmissions",m=r(13),O=r.n(m),v=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/login"),data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"get",url:"".concat(f,"/api/verify_jwt"),headers:{"x-access-token":localStorage.getItem("token")}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"get",url:"".concat(f,"/api/get_user"),headers:{"x-access-token":localStorage.getItem("token")}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/get_user_by_username"),data:{username:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"get",url:"".concat(f,"/api/users"),headers:{"x-access-token":localStorage.getItem("token")}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/register"),data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/edit_user"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"get",url:"".concat(f,"/api/projects")});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/get_project"),headers:{"x-access-token":localStorage.getItem("token")},data:{project_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/add_project"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/edit_project"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/remove_project"),headers:{"x-access-token":localStorage.getItem("token")},data:{project_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/get_entry"),headers:{"x-access-token":localStorage.getItem("token")},data:{entry_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/add_entry"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/edit_entry"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/remove_entry"),headers:{"x-access-token":localStorage.getItem("token")},data:{entry_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/get_contribution"),headers:{"x-access-token":localStorage.getItem("token")},data:{contribution_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/add_contribution"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/edit_contribution"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/add_contributed_asset"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/edit_contributed_asset"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/signed_URL_download"),data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/signed_URL_upload"),data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"get",url:"".concat(f,"/api/packs")});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/get_pack_by_title"),headers:{"x-access-token":localStorage.getItem("token")},data:{pack_title:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/add_pack"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/edit_pack"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/remove_pack"),headers:{"x-access-token":localStorage.getItem("token")},data:{pack_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/add_asset_type"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/edit_asset_type"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/remove_asset_type"),headers:{"x-access-token":localStorage.getItem("token")},data:{asset_type_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/request_reset_email"),data:{email:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(p.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/reset_password"),data:{password:t,token:r},validateStatus:function(e){return 200===e||400===e}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),$=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/get_track_assets"),data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(p.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/get_track_assets_by_username/").concat(t),data:r});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),te=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/add_track_asset"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/edit_track_asset"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O()({method:"post",url:"".concat(f,"/api/remove_track_asset"),headers:{"x-access-token":localStorage.getItem("token")},data:{track_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){function e(){Object(j.a)(this,e),this.userInfo=null,this.usersList=null,this.userInfoLoading=!1,this.usersListLoading=!1,Object(b.m)(this,{userInfo:b.n,usersList:b.n,userInfoLoading:b.n,usersListLoading:b.n,getUserInfo:b.f,clearUserInfo:b.f,getUsersList:b.f,editUserInfo:b.f})}return Object(h.a)(e,[{key:"clearUserInfo",value:function(){var e=this;Object(b.o)((function(){e.userInfo=null}))}},{key:"getUserInfo",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.userInfoLoading=!0,e.prev=1,e.next=4,k();case 4:return 200===(t=e.sent).status&&(r=Object(b.p)(t.data),Object(b.o)((function(){n.userInfo=r,n.userInfoLoading=!1}))),e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),this.userInfoLoading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUsersList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.usersListLoading=!0,e.prev=1,e.next=4,w();case 4:return 200===(t=e.sent).status&&(r=Object(b.p)(t.data),Object(b.o)((function(){n.usersList=r,n.usersListLoading=!1}))),e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),this.usersListLoading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"editUserInfo",value:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(t);case 3:if(200!==e.sent.status){e.next=8;break}this.getUserInfo(),e.next=9;break;case 8:throw new Error;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ce=function(){function e(){Object(j.a)(this,e),this.projects=null,this.projectInfo=null,this.projectsLoading=!1,this.projectInfoLoading=!1,Object(b.m)(this,{projects:b.n,projectInfo:b.n,projectsLoading:b.n,projectInfoLoading:b.n,getProjects:b.f,getProjectInfo:b.f})}return Object(h.a)(e,[{key:"getProjects",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.projectsLoading=!0,e.prev=1,e.next=4,C();case 4:return 200===(t=e.sent).status&&(r=Object(b.p)(t.data),Object(b.o)((function(){n.projects=r,n.projectsLoading=!1}))),e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),this.projectsLoading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getProjectInfo",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.projectInfoLoading=!0,e.prev=1,e.next=4,N(t);case 4:return 200===(r=e.sent).status&&(n=Object(b.p)(r.data),Object(b.o)((function(){a.projectInfo=n,a.projectInfoLoading=!1}))),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),this.projectInfoLoading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),se=function(){function e(){Object(j.a)(this,e),this.entryInfo=null,this.entryInfoLoading=!1,Object(b.m)(this,{entryInfo:b.n,getEntryInfo:b.f})}return Object(h.a)(e,[{key:"getEntryInfo",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.entryInfoLoading=!0,e.prev=1,e.next=4,P(t);case 4:return 200===(r=e.sent).status&&(n=Object(b.p)(r.data),Object(b.o)((function(){a.entryInfo=n,a.entryInfoLoading=!1}))),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),this.entryInfoLoading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),oe=function(){function e(){Object(j.a)(this,e),this.packs=null,this.packInfo=null,this.packsLoading=!1,this.packInfoLoading=!1,Object(b.m)(this,{packs:b.n,packInfo:b.n,packsLoading:b.n,packInfoLoading:b.n,getPacks:b.f,getPackInfo:b.f})}return Object(h.a)(e,[{key:"getPacks",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.packsLoading=!0,e.prev=1,e.next=4,F();case 4:if(200!==(t=e.sent).status){e.next=11;break}return r=Object(b.p)(t.data),Object(b.o)((function(){n.packs=r,n.packsLoading=!1})),e.abrupt("return",t);case 11:throw new Error;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),this.packsLoading=!1;case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"getPackInfo",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.packInfoLoading=!0,e.prev=1,e.next=4,W(t);case 4:if(200!==(r=e.sent).status){e.next=11;break}return n=Object(b.p)(r.data),Object(b.o)((function(){a.packInfo=n,a.packInfoLoading=!1})),e.abrupt("return",r);case 11:throw new Error;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),this.packInfoLoading=!1;case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ie=function(){function e(){Object(j.a)(this,e),this.contributionInfo=null,this.contributionInfoLoading=!1,Object(b.m)(this,{contributionInfo:b.n,getContributionInfo:b.f})}return Object(h.a)(e,[{key:"getContributionInfo",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.contributionInfoLoading=!0,e.prev=1,e.next=4,D(t);case 4:if(200!==(r=e.sent).status){e.next=11;break}return n=Object(b.p)(r.data),Object(b.o)((function(){a.contributionInfo=n,a.contributionInfoLoading=!1})),e.abrupt("return",r);case 11:throw new Error;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),this.contributionInfoLoading=!1;case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ue={userStore:new ae,projectsStore:new ce,entryStore:new se,packsStore:new oe,contributionStore:new ie},le=r(19),de=r(18),pe=(r(98),r(20)),je=r(8),he=r(14),be=r(31),fe=r(34),xe=r(1);function me(){var e=Object(n.useState)(""),t=Object(je.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(""),s=Object(je.a)(c,2),o=s[0],u=s[1],l=Object(n.useState)(!1),j=Object(je.a)(l,2),h=j[0],b=j[1],f=Object(n.useState)(!1),x=Object(je.a)(f,2),m=x[0],O=x[1],v=Object(n.useState)(!1),g=Object(je.a)(v,2),k=g[0],y=g[1],w=Object(n.useState)("warning"),I=Object(je.a)(w,2),C=I[0],N=I[1],_=Object(n.useState)("Something went wrong, please try again later!"),L=Object(je.a)(_,2),T=L[0],P=L[1],E=Object(pe.h)();function A(){return(A=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=t.target.username.value.trim(),n=t.target.email.value.trim(),a=t.target.password.value.trim(),c=t.target.firstName.value.trim(),s=t.target.lastName.value.trim(),o={username:r,first_name:c,last_name:s,email:n,password:a},m||h){e.next=21;break}return e.prev=8,e.next=11,S(o);case 11:201===e.sent.status&&E.push("/login"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0.response),400===e.t0.response.status?(y(!0),N("warning"),P("Email or Username is already in use")):(y(!0),N("danger"),P("Something went wrong, please try again later!"));case 19:e.next=23;break;case 21:y(!0),P("Please Fix Errors Before You Register!");case 23:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){k&&setTimeout((function(){y(!1)}),5e3)})),Object(xe.jsxs)("div",{children:[function(){if(k)return Object(xe.jsx)(fe.a,{variant:C,children:T})}(),Object(xe.jsxs)(he.a,{onSubmit:function(e){return function(e){return A.apply(this,arguments)}(e)},children:[Object(xe.jsxs)(he.a.Group,{controlId:"username",children:[Object(xe.jsx)(he.a.Control,{required:!0,style:{maxWidth:"400px"},onChange:function(e){return function(e){e.target.value.length>=20?(b(!0),a("Too Long!")):b(!1)}(e)},size:"md",type:"text",placeholder:"Username"}),function(){if(!0===h)return Object(xe.jsx)(he.a.Text,{style:{color:"red"},children:r})}(),Object(xe.jsx)(he.a.Text,{id:"passwordHelpBlock",muted:!0,children:"Your username must be shorter than 20 characters."})]}),Object(xe.jsxs)(he.a.Group,{controlId:"email",children:[Object(xe.jsx)(he.a.Control,{required:!0,style:{maxWidth:"400px"},size:"md",type:"email",placeholder:"Email Address"}),Object(xe.jsx)(he.a.Text,{className:"text-muted",children:"We'll never share your info with anyone else."})]}),Object(xe.jsxs)("div",{className:"d-flex flex-row flex-wrap",children:[Object(xe.jsx)(he.a.Group,{controlId:"firstName",children:Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"text",placeholder:"First Name"})}),Object(xe.jsx)(he.a.Group,{controlId:"lastName",children:Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"text",placeholder:"Last Name"})})]}),Object(xe.jsxs)(he.a.Group,{controlId:"password",children:[Object(xe.jsx)(he.a.Control,{required:!0,style:{maxWidth:"400px"},onChange:function(e){return function(e){var t=e.target.value;t.length>20?(O(!0),u("Too Long!")):t.length<8&&t.length>=1?(O(!0),u("Too Short!")):O(!1)}(e)},size:"md",type:"password",placeholder:"Password","aria-describedby":"passwordHelpBlock"}),function(){if(!0===m)return Object(xe.jsx)(he.a.Text,{style:{color:"red"},children:o})}(),Object(xe.jsx)(he.a.Text,{id:"passwordHelpBlock",muted:!0,children:"Your password must be 8-20 characters long."})]}),Object(xe.jsxs)("p",{children:["Please read and agree to our ",Object(xe.jsx)("a",{href:"http://sfaudioguild.com/user-license-agreement.pdf",target:"_blank",rel:"noopener noreferrer",children:"USER LICENSE AGREEMENT"})," before completing registration"]}),Object(xe.jsx)(he.a.Group,{controlId:"userAgreement",children:Object(xe.jsx)(he.a.Check,{required:!0,type:"checkbox",label:"I agree to the USER LICENSE AGREEMENT"})}),Object(xe.jsx)(be.a,{variant:"outline-secondary",type:"submit",children:"Register"})]}),Object(xe.jsx)("br",{}),Object(xe.jsxs)("div",{className:"d-flex flex-column",children:[Object(xe.jsx)("small",{children:"Aready a Member?"}),Object(xe.jsx)(i.b,{to:"/login",children:"Log In!"})]})]})}var Oe=r(115),ve=function(e){Object(le.a)(r,e);var t=Object(de.a)(r);function r(e){var n;return Object(j.a)(this,r),(n=t.call(this,e)).state={alert:!1,alertType:"warning",alertText:"Something went wrong, please try again."},n}return Object(h.a)(r,[{key:"componentDidUpdate",value:function(){var e=this;this.state.alert&&setTimeout((function(){e.setState({alert:!1})}),1e4),this.props.authenticated&&this.props.history.push("/account")}},{key:"renderAlert",value:function(){if(this.state.alert)return Object(xe.jsx)(fe.a,{variant:this.state.alertType,children:this.state.alertText})}},{key:"handleSubmit",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.username_or_email.value.trim(),n=t.target.password.value.trim(),a={username_or_email:r,password:n},e.prev=4,e.next=7,v(a);case 7:200===(c=e.sent).status&&(s=c.data.token,localStorage.setItem("token","Bearer "+s),this.props.history.push("/account"),this.props.authenticate()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),e.t0.response&&400===e.t0.response.status?this.setState({alert:!0,alertText:"Invalid Username/Email or Password.",alertType:"warning"}):this.setState({alert:!0,alertText:"Something went wrong, please try again.",alertType:"danger"});case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderLogin",value:function(){var e=this,t=this.props,r=t.authenticated;return t.loadingAuth?Object(xe.jsx)(Oe.a,{animation:"border",role:"status"}):r?Object(xe.jsxs)("div",{children:[Object(xe.jsx)("h2",{className:"pb-3 text-center",children:"Login"}),Object(xe.jsx)("p",{className:"text-center",children:" already logged in"})]}):Object(xe.jsxs)("div",{children:[this.renderAlert(),Object(xe.jsxs)("div",{children:[Object(xe.jsxs)(he.a,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(xe.jsx)(he.a.Group,{controlId:"username_or_email",children:Object(xe.jsx)(he.a.Control,{style:{maxWidth:"400px"},required:!0,size:"md",type:"text",placeholder:"Username or Email"})}),Object(xe.jsxs)(he.a.Group,{controlId:"password",children:[Object(xe.jsx)(he.a.Control,{style:{maxWidth:"400px"},required:!0,size:"md",type:"password",placeholder:"Password"}),Object(xe.jsx)(i.b,{to:"/forgot_password",children:Object(xe.jsx)("small",{children:"Forgot Password?"})})]}),Object(xe.jsx)(be.a,{variant:"outline-secondary",type:"submit",children:"Login"})]}),Object(xe.jsx)("br",{}),Object(xe.jsx)("br",{}),Object(xe.jsx)(be.a,{as:i.b,to:"/register",variant:"warning",children:"Need an account?"})]})]})}},{key:"render",value:function(){return this.renderLogin()}}]),r}(n.Component),ge=Object(pe.j)(ve),ke=Object(u.b)("userStore")(Object(u.c)((function(e){var t=Object(pe.h)(),r=Object(n.useState)(""),a=Object(je.a)(r,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){localStorage.getItem("token")?(localStorage.removeItem("token"),e.userStore.clearUserInfo(),t.push("/login"),e.authenticate()):s("not logged in")}),[]),Object(xe.jsxs)("div",{children:[Object(xe.jsx)("h1",{children:"Logout"}),Object(xe.jsx)("p",{children:c})]})}))),ye=r(21),we=r(68),Se=r.n(we),Ie=r(29),Ce=r(70),Ne=r(33),_e=r(69);function Le(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(p.a)(d.a.mark((function e(t,r){var n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(r);case 3:if(200!==(n=e.sent).status){e.next=18;break}return a=new FormData,Object.keys(n.data.fields).forEach((function(e){a.append(e,n.data.fields[e])})),a.append("file",t),e.prev=8,e.next=11,fetch(n.data.url,{method:"POST",body:a});case 11:return c=e.sent,e.abrupt("return",c);case 15:e.prev=15,e.t0=e.catch(8),console.log("failed to upload to amazon s3",e.t0);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(0),console.log("failed to get presigned url for upload",e.t1);case 23:case"end":return e.stop()}}),e,null,[[0,20],[8,15]])})))).apply(this,arguments)}function Pe(e,t){return Ee.apply(this,arguments)}function Ee(){return Ee=Object(p.a)(d.a.mark((function e(t,r){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 23e5,n=[],a=[],e.next=5,Promise.all(r.map(function(){var e=Object(p.a)(d.a.mark((function e(r){var c,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.size>23e5)){e.next=5;break}r.failMessage="Size limit exceeded",a.push(r),e.next=19;break;case 5:return c=Object(_e.v4)(),r.uuid=c,e.prev=7,s={bucket_name:x,object_name:"".concat(t,"/").concat(r.uuid,".wav")},e.next=11,Le(r,s);case 11:!(o=e.sent)||204!==o.status&&200!==o.status?(console.log("failed",r),a.push(r)):(console.log("success",r.name),n.push(r)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),console.log("failed",r),a.push(r);case 19:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",{successList:n,failedList:a});case 6:case"end":return e.stop()}}),e)}))),Ee.apply(this,arguments)}function Ae(e){var t=Object(n.useState)([]),r=Object(je.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)([]),o=Object(je.a)(s,2),i=o[0],u=o[1],l=Object(n.useState)(!1),j=Object(je.a)(l,2),h=j[0],b=j[1],f=Object(n.useState)(!1),x=Object(je.a)(f,2),m=x[0],O=x[1];function v(){return(v=Object(p.a)(d.a.mark((function t(r){var n,s,o,l,p;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=Object.values(r.target.file.files),s=n.length,!e.calculateTotalAmountOfContributionAttempts){t.next=7;break}if(e.calculateTotalAmountOfContributionAttempts(s)){t.next=7;break}return t.abrupt("return");case 7:if(!e.calculateCanUploadMoreIfNotPremium){t.next=12;break}if(e.calculateCanUploadMoreIfNotPremium(s)){t.next=12;break}return window.alert("You have exceeded the maximum limit of uploads, please upgrade to premium for more."),t.abrupt("return");case 12:return b(!0),t.next=15,Pe(e.dirName,n);case 15:o=t.sent,b(!1),l=o.successList,p=o.failedList,c([].concat(Object(Ne.a)(a),Object(Ne.a)(l))),u([].concat(Object(Ne.a)(i),Object(Ne.a)(p)));case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.next=3,e.handleComplete(a);case 3:O(!1);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){0===a.length||e.complete?window.onbeforeunload=void 0:window.onbeforeunload=function(){return!0}})),Object(xe.jsxs)("div",{children:[Object(xe.jsx)(pe.a,{when:0!==a.length&&!e.complete,message:"If you leave without pressing Complete your uploads will be lost! Are you sure you want to navigate away?"}),Object(xe.jsx)("p",{children:"Upload SFX"}),Object(xe.jsxs)("div",{className:"p-1 rounded border border-dark",style:{height:"25vh",backgroundColor:"#fff",overflowY:"auto"},children:[0!==a.length?a.map((function(e){return Object(xe.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(xe.jsx)("p",{children:e.name}),Object(xe.jsx)("p",{style:{color:"green"},children:"\u2713"})]},e)})):Object(xe.jsx)("p",{style:{color:"grey"},children:"No Successful Uploads"}),0!==i.length?i.map((function(e){return Object(xe.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(xe.jsx)("p",{children:e.name}),Object(xe.jsx)("p",{style:{color:"red"},children:e.failMessage?e.failMessage:null}),Object(xe.jsx)("br",{}),Object(xe.jsx)("p",{style:{color:"red"},children:"Failed"})]},e)})):Object(xe.jsx)("p",{style:{color:"grey"},children:"No Failed Uploads"})]}),Object(xe.jsx)("br",{}),Object(xe.jsxs)(he.a,{onSubmit:function(e){return function(e){return v.apply(this,arguments)}(e)},children:[Object(xe.jsxs)(he.a.Group,{controlId:"file",children:[Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"file",multiple:!0,accept:"audio/wav"}),Object(xe.jsx)("p",{style:{color:"grey"},children:"* only accepts .wav files"})]}),h?Object(xe.jsx)(Oe.a,{animation:"border",role:"status"}):Object(xe.jsx)(be.a,{variant:"outline-success",type:"submit",children:"Upload Files"})]}),Object(xe.jsx)("br",{}),Object(xe.jsx)("small",{style:{color:"red"},children:"* Do not navigate away without clicking complete, or your uploads will not register!"}),m?Object(xe.jsx)(Oe.a,{animation:"border",role:"status"}):Object(xe.jsx)(be.a,{variant:"info",className:"w-100",disabled:0===a.length,onClick:function(){return function(){return g.apply(this,arguments)}()},children:"Complete"})]})}function Ue(e){var t=Object(n.useState)(!1),r=Object(je.a)(t,2),a=r[0],c=r[1];function s(){return s=Object(p.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(r.map(function(){var t=Object(p.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("audio_file",r),n.append("name",r.name),n.append("author_id",e.authorId),n.append("uuid",r.uuid),t.prev=5,t.next=8,te(n);case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),console.log(t.t0),window.alert("Something went wrong, please try again later.");case 14:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e){return t.apply(this,arguments)}}()));case 2:c(!0),e.uploadTrackBoolean(!1);case 4:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}return Object(xe.jsx)("div",{className:"p-3 border rounded card-style admin-tools-item",children:Object(xe.jsx)(Ae,{dirName:"tracks",complete:a,handleComplete:function(e){return function(e){return s.apply(this,arguments)}(e)},calculateCanUploadMoreIfNotPremium:e.premium?null:function(t){return function(t){return!(e.upload_count+t>20)}(t)}})})}var De=function(e){Object(le.a)(r,e);var t=Object(de.a)(r);function r(e){var n;return Object(j.a)(this,r),(n=t.call(this,e)).state={contributionsToggle:!1,uploadTrackBoolean:!1},n}return Object(h.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.userStore.getUserInfo();case 2:this.props.projectsStore.getProjects();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleContributedAssetsClick",value:function(e){this.setState(Object(ye.a)({},e,!this.state[e]))}},{key:"renderContributedAssets",value:function(e){return e.map((function(e){return Object(xe.jsx)("div",{className:"px-3",children:Object(xe.jsxs)("p",{style:{display:"flex"},children:[Object(xe.jsx)("p",{class:"pr-2",children:e.name}),"approved"===e.status?Object(xe.jsx)("p",{style:{color:"green"},children:"\u2713"}):null]})})}))}},{key:"renderContributions",value:function(e){var t=this;if(this.props.projectsStore.projectsLoading)return Object(xe.jsx)(Oe.a,{animation:"border",role:"status"});if(!this.props.projectsStore.projects)return Object(xe.jsx)("p",{children:"Can't get projects..."});var r=this.props.projectsStore.projects;return e.slice().reverse().map((function(e,n){var a=Se()(e.date_created).format("MMM Do YYYY"),c=r.filter((function(t){return t.id===e.project_id}));if(0!==c.length){var s=c[0],o=s.entries.filter((function(t){return t.id===e.entry_id}));if(0!==o.length){var i=o[0],u="contributedAsset".concat(e.id,"Toggle");return Object(xe.jsxs)("div",{children:[Object(xe.jsxs)("div",{className:"p-3 m-1 border rounded card-style",style:{backgroundColor:"white"},children:[Object(xe.jsxs)("p",{children:["Created: ",a]}),Object(xe.jsxs)("p",{children:["Project: ",s.title]}),Object(xe.jsxs)("p",{children:["Entry: ",i.title]}),Object(xe.jsxs)("p",{children:["Amount: ",e.amount]}),Object(xe.jsxs)("p",{children:["Status: ",e.status]}),Object(xe.jsxs)(be.a,{variant:"link",onClick:function(){return t.handleContributedAssetsClick(u)},children:["Assets: ",t.state[u]?"\u25bc":"\u25b2"]}),t.state[u]?t.renderContributedAssets(e.contributed_assets):null]}),Object(xe.jsx)("br",{})]},n)}return Object(xe.jsx)("div",{className:"p-3 m-1 border rounded justify-content-center align-items-center card-style",style:{height:"10vh"},children:Object(xe.jsx)("p",{children:"Project entry removed... "})},n)}return Object(xe.jsx)("div",{className:"p-3 m-1 border rounded justify-content-center align-items-center card-style",style:{height:"10vh"},children:Object(xe.jsx)("p",{children:"Project removed... "})},n)}))}},{key:"renderContributorOrNot",value:function(){var e=this.props.userStore.userInfo;return e.contributor?e.contributions&&0!==e.contributions.length?this.renderContributions(e.contributions):Object(xe.jsxs)("div",{children:[Object(xe.jsx)("p",{children:"You have not made any contributions yet"}),Object(xe.jsx)(be.a,{variant:"warning",as:i.b,to:"/dashboard",children:"Start Contributing"})]}):e.phone&&e.address&&!e.contributor?Object(xe.jsx)("div",{children:Object(xe.jsx)("p",{children:"*** Your contributor application is being reviewed... Hang in there! ***"})}):Object(xe.jsxs)("div",{className:"d-flex flex-column",children:[Object(xe.jsx)(be.a,{variant:"warning",as:i.b,to:"/register-contributor",children:"Become a Contributor"}),Object(xe.jsxs)("small",{className:"pt-2",children:["What is a contributor? ",Object(xe.jsx)("a",{href:"https://www.sfaudioguild.com/learn.html",children:"Learn More"})]})]})}},{key:"renderUpgradeButtonOrNot",value:function(){if(!this.props.userStore.userInfo.premium)return Object(xe.jsx)("div",{className:"d-flex flex-row justify-content-end",children:Object(xe.jsx)(be.a,{as:i.b,to:"/upgrade",variant:"warning",children:"Upgrade to Premium!"})})}},{key:"renderLoadingOrAccount",value:function(){var e=this;if(this.props.userStore.userInfoLoading)return Object(xe.jsx)("div",{children:Object(xe.jsx)(Oe.a,{animation:"border",role:"status"})});if(!this.props.userStore.userInfo)return Object(xe.jsx)("div",{children:Object(xe.jsx)("p",{children:"Can't find user data..."})});var t=this.props.userStore.userInfo;return Object(xe.jsxs)("div",{children:[this.renderUpgradeButtonOrNot(),Object(xe.jsxs)("div",{children:[Object(xe.jsxs)("div",{className:"d-flex flex-row align-items-baseline",children:[Object(xe.jsxs)("h4",{children:[t.premium?Object(xe.jsx)(Ce.a,{style:{color:"orange",marginBottom:"7px"}}):null,t.username]}),Object(xe.jsx)(be.a,{variant:"link",style:{fontSize:"12px"},as:i.b,to:"/profile/".concat(t.username),children:"View Profile"})]}),Object(xe.jsxs)("div",{className:"px-3",children:[Object(xe.jsxs)("p",{children:[t.first_name," ",t.last_name]}),Object(xe.jsx)("p",{children:t.email}),t.address?Object(xe.jsx)("p",{children:t.address}):null,t.phone?Object(xe.jsx)("p",{children:t.phone}):null,Object(xe.jsxs)("p",{children:["Coins ",Object(xe.jsx)(Ie.a,{style:{color:"orange",fontSize:"20px"}})," - ",t.coins]})]})]}),Object(xe.jsx)("br",{}),Object(xe.jsx)("h4",{children:"Upload SFX to Library and Profile"}),Object(xe.jsx)("small",{className:"m-0 p-0",style:{color:"green"},children:"- If other users buy your tracks with coins, you will receive those coins!"}),Object(xe.jsx)("br",{}),Object(xe.jsx)("small",{className:"p-0 m-0",style:{color:"red"},children:"- Members who do not have a premium subscription are limited to 20 free uploads."}),Object(xe.jsx)("hr",{className:"mt-1"}),Object(xe.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-start",children:[!t.premium&&t.upload_count>=20?Object(xe.jsx)("p",{style:{color:"red"},children:"You have reached your upload limit, please upgrade to Premium to upload more tracks."}):null,Object(xe.jsx)(be.a,{className:"px-3 py-1",onClick:function(){return e.setState({uploadTrackBoolean:!e.state.uploadTrackBoolean})},disabled:!t.premium&&t.upload_count>=20,children:this.state.uploadTrackBoolean?"- Upload New Track":"+ Upload New Track"}),this.state.uploadTrackBoolean?Object(xe.jsx)(Ue,{upload_count:t.upload_count,premium:t.premium,authorId:t.id,uploadTrackBoolean:function(t){return e.setState({uploadTrackBoolean:t})}}):null]}),Object(xe.jsx)("br",{}),Object(xe.jsx)("h4",{children:"Contributions to SF Audio Guild Projects"}),Object(xe.jsx)("small",{style:{color:"green"},children:"- By contributing to our projects, you can earn 10 coins per sound, if your sound is approved!"}),Object(xe.jsx)("hr",{className:"mt-1"}),Object(xe.jsx)("div",{className:"d-flex flex-row flex-wrap",children:this.renderContributorOrNot()})]})}},{key:"render",value:function(){return Object(xe.jsx)("div",{children:this.renderLoadingOrAccount()})}}]),r}(n.Component),Be=Object(u.b)("userStore","projectsStore")(Object(u.c)(De)),ze=r(116),Ge=r.p+"static/media/sfag.90990307.png",Re=function(e){Object(le.a)(r,e);var t=Object(de.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return Object(xe.jsx)("div",{className:"p-2 d-flex flex-column align-items-center",children:Object(xe.jsx)(ze.a,{children:Object(xe.jsx)("a",{href:"https://sfaudioguild.com",children:Object(xe.jsx)("img",{alt:"",src:Ge,width:80,height:80})})})})}}]),r}(n.Component),qe=function(e){Object(le.a)(r,e);var t=Object(de.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"componentDidMount",value:function(){this.props.userStore.getUserInfo()}},{key:"renderAdminToolsLink",value:function(){var e=this.props,t=e.authenticated,r=e.userStore;if(r.userInfo&&r.userInfo.admin&&t)return Object(xe.jsx)(be.a,{variant:"link",as:i.b,className:"d-flex flex-row align-items-center nav-link",to:"/admin/tools",children:"Admin Tools"})}},{key:"renderBuyCoins",value:function(){var e=this.props,t=e.authenticated,r=e.userStore;if(r.userInfo&&t)return Object(xe.jsxs)(be.a,{variant:"link",as:i.b,className:"d-flex flex-row align-items-center nav-link",to:"/coins",children:["Buy ",Object(xe.jsx)(Ie.a,{className:"ml-1",style:{fontSize:"25px",color:"orange"}}),Object(xe.jsx)("p",{style:{fontSize:"10px",color:"green"},children:r.userInfo.coins})]})}},{key:"render",value:function(){var e=this.props.authenticated;return Object(xe.jsxs)("div",{className:"nav-button d-flex flex-column",children:[Object(xe.jsx)("hr",{className:"w-75 m-0 p-0 align-self-center"}),this.renderAdminToolsLink(),e&&Object(xe.jsx)(be.a,{variant:"link",as:i.b,className:"d-flex flex-row align-items-center nav-link",to:"/account",children:"Account"}),Object(xe.jsx)(be.a,{variant:"link",as:i.b,className:"d-flex flex-row align-items-center nav-link",to:"/library",children:"Library"}),Object(xe.jsx)(be.a,{variant:"link",as:i.b,className:"d-flex flex-row align-items-center nav-link",to:"/dashboard",children:"Contribute"}),this.renderBuyCoins(),e?Object(xe.jsx)(be.a,{variant:"link",as:i.b,className:"d-flex flex-row align-items-center nav-link",to:"/logout",children:"Logout"}):Object(xe.jsx)(be.a,{variant:"link",as:i.b,className:"d-flex flex-row align-items-center nav-link",to:"/login",children:"Login"})]})}}]),r}(n.Component),Me=Object(u.b)("userStore")(Object(u.c)(qe)),Fe=r(117);function We(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.objectName,n=t.downloadName,a={bucket_name:x,object_name:r},We&&(a.download_name=n),e.prev=4,e.next=7,q(a);case 7:if(200!==(c=e.sent).status){e.next=11;break}return s=c.data,e.abrupt("return",s);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}var Ke=Object(u.b)("userStore","projectsStore")(Object(u.c)((function(e){var t=Object(n.useState)(),r=Object(je.a)(t,2),a=r[0],c=r[1];function s(){return o.apply(this,arguments)}function o(){return o=Object(p.a)(d.a.mark((function t(){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.next=3,Promise.all(e.projectsStore.projects.map(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We({objectName:"project_images/".concat(t.image_file)});case 2:n=e.sent,r.push(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:c(r);case 4:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}function u(t){if(e.userStore.usersListLoading)return Object(xe.jsx)(Oe.a,{animation:"border",role:"status"});if(!e.userStore.usersList)return Object(xe.jsx)("p",{style:{color:"red"},children:"Can't get users!"});var r=e.userStore.usersList;return t.map((function(t){var n=r.filter((function(e){return e.id===t.user_id}))[0];return n?Object(xe.jsxs)("div",{className:"px-5 d-flex flex-row justify-content-between align-items-baseline flex-wrap",children:[Object(xe.jsxs)("p",{style:{color:"purple"},children:[n.username," - ",Object(xe.jsx)("b",{children:t.amount})]}),Object(xe.jsx)("p",{style:{color:"gray"},children:t.status}),e.userStore.userInfo&&e.userStore.userInfo.admin?Object(xe.jsx)(be.a,{as:i.b,variant:"outline-secondary",to:"/Manage/".concat(t.id),children:"Manage"}):null]},t.id):Object(xe.jsx)("p",{children:"Can't find contributing user..."})}))}function l(e){if(!a)return null;var t=a.filter((function(t){return t.includes(e.image_file)}));return Object(xe.jsx)(Fe.a,{className:"small-img pr-3",src:t,rounded:!0})}return Object(n.useEffect)((function(){!function(){var t=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.projectsStore.getProjects();case 2:s(),e.userStore.getUsersList(),e.userStore.getUserInfo();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]),Object(xe.jsxs)("div",{children:[function(){if(e.userStore.userInfo&&!e.userStore.userInfo.contributor)return Object(xe.jsxs)("div",{className:"d-flex flex-column align-items-start",children:[Object(xe.jsx)(be.a,{variant:"warning",as:i.b,to:"/register-contributor",children:"Become a Contributor"}),Object(xe.jsxs)("p",{children:["What is a contributor? ",Object(xe.jsx)("a",{href:"https://www.sfaudioguild.com/learn.html",children:"Learn More"})]}),Object(xe.jsx)("br",{})]})}(),e.projectsStore.projectsLoading?Object(xe.jsx)(Oe.a,{animation:"border",role:"status"}):e.projectsStore.projects?e.projectsStore.projects.map((function(t){return t.active&&!t.complete?Object(xe.jsxs)("div",{className:"p-3 mb-5 card-style border rounded",style:{backgroundColor:"white",fontFamily:"Noto Sans",maxWidth:"800px"},children:[Object(xe.jsxs)("div",{className:"d-flex flex-row align-items-baseline flex-wrap",children:[l(t),Object(xe.jsx)("h5",{children:Object(xe.jsx)("b",{children:t.title})}),Object(xe.jsx)("p",{className:"pl-3",style:{color:"purple"},children:t.complete?"Completed":"In-Progress"})]}),Object(xe.jsx)("hr",{style:{marginTop:"-15px"}}),Object(xe.jsxs)("div",{className:"py-3",children:[Object(xe.jsx)("p",{className:"px-3",children:Object(xe.jsx)("u",{children:"About"})}),Object(xe.jsxs)("p",{className:"px-3",children:[' "',t.description,'"']})]}),(r=t.entries,r.map((function(t){return Object(xe.jsx)("div",{className:"p-3 flex-row border rounded my-3",children:Object(xe.jsxs)("div",{className:"flex-column",children:[Object(xe.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-baseline flex-wrap",children:[Object(xe.jsx)("p",{children:Object(xe.jsx)("b",{children:"".concat(t.title)})}),Object(xe.jsxs)("p",{children:["How many: ",Object(xe.jsx)("b",{children:t.amount})]}),e.userStore.userInfo&&e.userStore.userInfo.contributor?Object(xe.jsx)(xe.Fragment,{children:t.complete?Object(xe.jsx)("p",{style:{color:"green"},children:"Complete"}):Object(xe.jsx)(be.a,{as:i.b,variant:"warning",to:"/Contribute/entry/".concat(t.id),children:"Contribute"})}):null]}),Object(xe.jsxs)("p",{className:"px-1",children:['"',t.description,'"']}),Object(xe.jsx)("p",{className:"px-3",children:Object(xe.jsx)("u",{children:"Contributions"})}),u(t.contributions)]})},t.id)})))]},t.id):null;var r})).reverse():Object(xe.jsx)("p",{children:"Can't Load Projects..."})]})}))),He=Ke,Ve=Object(u.b)("entryStore","userStore","projectsStore")(Object(u.c)((function(e){var t=Object(n.useState)(!1),r=Object(je.a)(t,2),a=r[0],c=r[1],s=Object(pe.h)(),o=Object(pe.i)();function i(){return i=Object(p.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:if(!(r=e.sent)){e.next=9;break}return n=r.data.id,e.next=7,Promise.all(t.map(function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={contribution_id:n,name:t.name,uuid:t.uuid},e.next=4,G(r);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),window.alert("Something went wrong, please try again later."),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 7:c(!0),s.push("/dashboard");case 9:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return(l=Object(p.a)(d.a.mark((function t(r){var n,a,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.entryStore.entryInfo,a=r.length,c={entry_id:n.id,project_id:n.project_id,amount:a},t.prev=3,t.next=6,B(c);case 6:if(201!==(s=t.sent).status){t.next=11;break}return t.abrupt("return",s);case 11:return t.abrupt("return",!1);case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(3),t.abrupt("return",!1);case 17:case"end":return t.stop()}}),t,null,[[3,14]])})))).apply(this,arguments)}function j(e){return h.apply(this,arguments)}function h(){return(h=Object(p.a)(d.a.mark((function t(r){var n,a,c,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.entryStore.entryInfo,a=e.userStore.userInfo,c=a.contributions,o=0,c.forEach((function(e){e.entry_id===n.id&&(o+=e.amount)})),!((i=r+o)<=n.amount)){t.next=10;break}return t.abrupt("return",i);case 10:return window.alert("You have reached or exceeded the maximum limit of ".concat(n.amount," contributions for this entry.")),s.push("/dashboard"),t.abrupt("return",null);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){var t=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.entryStore.getEntryInfo(o.entryId);case 2:e.projectsStore.getProjectInfo(e.entryStore.entryInfo.project_id),e.userStore.getUserInfo();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]),Object(xe.jsx)("div",{style:{width:"50vw"},children:function(){if(e.entryStore.entryInfoLoading)return Object(xe.jsx)(Oe.a,{animation:"border",role:"status"});if(!e.entryStore.entryInfo||!e.projectsStore.projectInfo||!e.userStore.userInfo)return Object(xe.jsx)("p",{children:"Can't Load Info"});if(!e.userStore.userInfo.contributor)return Object(xe.jsx)("p",{children:"You are not registered as a contributor"});var t=e.entryStore.entryInfo,r=e.projectsStore.projectInfo,n=e.userStore.userInfo,c="submissions/".concat(r.title,"/").concat(t.title,"/").concat(n.first_name,"_").concat(n.last_name);return Object(xe.jsxs)("div",{children:[Object(xe.jsx)("h2",{children:t.title}),Object(xe.jsx)("p",{children:t.description}),Object(xe.jsx)("hr",{className:"mt-1"}),Object(xe.jsx)(Ae,{dirName:c,complete:a,handleComplete:function(e){return function(e){return i.apply(this,arguments)}(e)},calculateTotalAmountOfContributionAttempts:j})]})}()})}))),Qe=Ve,Je=r(118),Xe=r(43),Ze=r(71),$e=r.n(Ze),et=Object(u.b)("userStore")(Object(u.c)((function(e){var t=Object(n.useState)(!1),r=Object(je.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)(!1),o=Object(je.a)(s,2),u=o[0],l=o[1],j=Object(n.useState)([]),h=Object(je.a)(j,2),b=h[0],f=h[1],x=10;function m(){return m=Object(p.a)(d.a.mark((function t(r){var n,a,c,s,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.userStore,a=-Math.abs(x),x,c=r.downloads+1,s={user_id:n.userInfo.id,coins:a},o={user_id:r.author_id,coins:10},i={track_id:r.id,downloads:c},!e.userStore.userInfo||r.author_id===e.userStore.userInfo.id){t.next=21;break}return t.prev=8,t.next=11,I(s);case 11:return e.userStore.getUserInfo(),t.next=14,I(o);case 14:return t.next=16,re(i);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(8),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[8,18]])}))),m.apply(this,arguments)}function O(){return O=Object(p.a)(d.a.mark((function e(t,r){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.tag.value,l(!1),a={track_id:r.id,add_tag:n},e.prev=4,e.next=7,re(a);case 7:f([].concat(Object(Ne.a)(b),[n])),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,10]])}))),O.apply(this,arguments)}function v(){return v=Object(p.a)(d.a.mark((function e(t,r,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={track_id:r.id,remove_tag:n},e.prev=2,e.next=5,re(a);case 5:c=b.filter((function(e){return e!==n})),f(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),v.apply(this,arguments)}function g(){return g=Object(p.a)(d.a.mark((function t(r,n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,t.next=4,ne(n.id);case 4:e.getTracks(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])}))),g.apply(this,arguments)}function k(t,r){return e.userStore.userInfo&&t.author_id===e.userStore.userInfo.id?Object(xe.jsxs)("div",{className:"d-flex flex-row flex-wrap",children:[Object(xe.jsxs)(be.a,{variant:"link",className:"p-0 ml-2",onClick:function(){return S(r)},children:["#",r]}),Object(xe.jsx)(be.a,{variant:"link",className:"p-0 align-self-start",style:{color:"red",fontSize:"13px"},onClick:function(e){return function(e,t,r){return v.apply(this,arguments)}(e,t,r)},children:"\u2715"})]},r):Object(xe.jsxs)(be.a,{variant:"link",onClick:function(){return S(r)},children:["#",r]},r)}function y(e){e.target===e.currentTarget&&(e.preventDefault(),c(!a))}Object(n.useEffect)((function(){f(e.track.metadata)}),[]);var w=e.track,S=e.setQuery,C=e.tracksURLs,N=e.userStore.usersList.filter((function(e){return w.author_id===e.id}))[0].username,_=C.filter((function(e){return e.uuid===w.uuid}))[0];return Object(xe.jsxs)("div",{className:"d-flex flex-column  border rounded track-button",style:{backgroundColor:"white"},onClick:function(e){return y(e)},children:[Object(xe.jsxs)("div",{className:"mb-1 py-2 px-2 d-flex flex-row flex-wrap justify-content-between align-items-center",onClick:function(e){return y(e)},children:[Object(xe.jsxs)("div",{className:"d-flex flex-row flex-wrap ml-2 align-items-center",onClick:function(e){return y(e)},children:[Object(xe.jsxs)("div",{className:"d-flex flex-row flex-wrap align-items-baseline",style:{width:"450px"},onClick:function(e){return y(e)},children:[Object(xe.jsx)("p",{style:{fontSize:"20px",margin:0,padding:0},children:w.name}),Object(xe.jsxs)(be.a,{as:i.b,variant:"link",to:"/profile/".concat(N),children:[null," ",N]})]}),Object(xe.jsxs)("div",{className:"waveform-div d-flex flex-row border rounded px-1",style:{width:"300px",paddingTop:"6px",backgroundColor:"#fdf0ff"},children:[Object(xe.jsx)("div",{className:"waveform",style:{width:"250px"},children:Object(xe.jsx)($e.a,{barWidth:1,peaks:w.waveform,height:40,duration:w.length,onClick:function(){return function(t){var r=e.tracksURLs.filter((function(e){return e.uuid===t}))[0].url;new Audio(r).play()}(w.uuid)},progressColor:"darkblue"})}),Object(xe.jsxs)("p",{className:"align-self-end ml-2",style:{fontSize:"12px"},children:[w.length," s"]})]})]}),Object(xe.jsx)("div",{className:"d-flex flex-row flex-wrap align-items-center",children:Object(xe.jsxs)("div",{className:"d-flex flex-row align-items-baseline p-0 ml-3",children:[e.userStore.userInfo&&w.author_id===e.userStore.userInfo.id?null:Object(xe.jsx)(Ie.a,{className:"align-self-center",style:{fontSize:"30px",color:"orange",paddingRight:0}}),e.userStore.userInfo&&w.author_id===e.userStore.userInfo.id?null:Object(xe.jsx)("p",{style:{fontSize:"15px",color:"green"},children:x}),e.userStore.userInfo?Object(xe.jsx)(be.a,{id:"download",className:"d-flex flex-row",title:"Download",disabled:function(t){return t.author_id===e.userStore.userInfo.id||!(e.userStore.userInfo.coins<x)}(w),variant:"link-secondary",style:{fontSize:"30px",paddingRight:0,paddingTop:0},onClick:function(){return function(e){return m.apply(this,arguments)}(w)},children:Object(xe.jsx)("a",{style:{color:"inherit"},download:_.name,href:_.url,children:Object(xe.jsx)(Xe.a,{})})}):null,function(t){if(e.userStore.userInfo&&t.author_id===e.userStore.userInfo.id)return Object(xe.jsx)(be.a,{variant:"link",className:"p-0 align-self-center",style:{color:"red",fontSize:"25px",marginLeft:"30px"},onClick:function(e){return function(e,t){return g.apply(this,arguments)}(e,t)},children:"\u2715"})}(w)]})})]}),Object(xe.jsxs)("div",{onClick:function(e){return y(e)},children:[e.userStore.userInfo&&a?Object(xe.jsxs)("p",{onClick:function(e){return y(e)},className:"ml-3 mr-2 mb-0 mt-0 p-0",style:{color:"purple"},children:[w.downloads," ",1===w.downloads.length?"Download":"Downloads"]}):null,a?Object(xe.jsx)("div",{className:"d-flex flex-row align-items-baseline",onClick:function(e){return y(e)},children:Object(xe.jsxs)("div",{className:"m-3 d-flex flex-row",children:[Object(xe.jsx)("p",{className:"p-0 m-0",children:"Searchable Tags:"}),w.metadata&&0!==b.length?b.map((function(e){return k(w,e)})):"-- No Tags --",function(t){if(e.userStore.userInfo&&t.author_id===e.userStore.userInfo.id&&b.length<20)return u?Object(xe.jsx)(he.a,{className:"form-inline",onSubmit:function(e){return function(e,t){return O.apply(this,arguments)}(e,t)},children:Object(xe.jsx)(he.a.Group,{controlId:"tag",children:Object(xe.jsx)(he.a.Control,{style:{width:"100px"},size:"sm",type:"text",placeholder:"Tag"})})}):Object(xe.jsx)(be.a,{variant:"link",onClick:function(){return l(!0)},children:"+ Tag"})}(w)]})}):null]})]})}))),tt=et;function rt(e){return Object(xe.jsx)("div",{children:Object(xe.jsx)(he.a,{className:"form-inline",onSubmit:function(t){return function(t){t.preventDefault(),e.setQuery(t.target.formSearch.value.toLowerCase()),t.target.formSearch.value=""}(t)},children:Object(xe.jsx)(he.a.Group,{controlId:"formSearch",children:Object(xe.jsx)(he.a.Control,{size:"sm",type:"search",placeholder:"Search"})})})})}var nt=Object(u.b)("packsStore","userStore")(Object(u.c)((function(e){var t=Object(pe.h)(),r=new URLSearchParams(t.location.search),a=Object(n.useState)("tracks"),c=Object(je.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)([]),u=Object(je.a)(i,2),l=u[0],j=u[1],h=Object(n.useState)(!1),b=Object(je.a)(h,2),f=b[0],x=b[1],m=Object(n.useState)([]),O=Object(je.a)(m,2),v=O[0],g=O[1],k=Object(n.useState)(0),y=Object(je.a)(k,2),w=y[0],S=y[1],I=Object(n.useState)(),C=Object(je.a)(I,2),N=C[0],_=C[1];function L(){return T.apply(this,arguments)}function T(){return T=Object(p.a)(d.a.mark((function t(){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.next=3,Promise.all(e.packsStore.packs.map(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We({objectName:"pack_images/".concat(t.image_file)});case 2:n=e.sent,r.push(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:_(r);case 4:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}function P(e,n){r.set(e,n);var a=r.toString();t.push({pathname:"/library",search:a})}function E(e){r.delete(e);var n=r.toString();t.push({pathname:"/library",search:n})}function A(e){e?P("query",e):E("query"),Y()}function U(){var e=r.get("query");return e||null}function D(){var e=r.get("limit");return e||30}function B(e){e?P("offset",e):E("offset"),Y()}function z(){var e=r.get("offset");return e||0}function G(){var e=r.get("filter");return e||null}function R(e){if(!N)return Object(xe.jsx)(Oe.a,{animation:"border",role:"status"});var t=N.filter((function(t){return t.includes(e.image_file)}));return Object(xe.jsx)(Fe.a,{className:"pack-img",src:t})}function q(){var r=e.packsStore,n=r.packs;return r.packsLoading?Object(xe.jsx)(Oe.a,{animation:"border",role:"status"}):n?n.map((function(e){var r=e.title.replaceAll(" ","-").toLowerCase();return e.active?Object(xe.jsxs)("div",{className:"img-div p-3",children:[R(e),Object(xe.jsx)("button",{className:"di-btn",onClick:function(){return t.push("/pack/".concat(r))},children:"Info"})]},e.id):null})):Object(xe.jsx)("p",{children:"Can't get packs!"})}function M(){return Object(xe.jsx)("div",{className:"py-3 text-center align-items-center",children:Object(xe.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[Object(xe.jsx)(be.a,{disabled:0===parseInt(z()),variant:"link",onClick:function(){B(parseInt(z())-parseInt(D()))},children:"Previous"}),Object(xe.jsx)(be.a,{disabled:w<parseInt(D()),variant:"link",onClick:function(){B(parseInt(z())+parseInt(D()))},children:"Next"})]})})}function F(){return Object(xe.jsxs)(Je.a,{onSelect:function(e){var t;(t=e)?P("filter",t):E("filter"),Y()},children:[Object(xe.jsx)(Je.a.Toggle,{variant:"outline-secondary",children:G()?G():"Filter"}),Object(xe.jsxs)(Je.a.Menu,{children:[Object(xe.jsx)(Je.a.Item,{eventKey:null,children:"None"}),Object(xe.jsx)(Je.a.Item,{eventKey:"popular",children:"popular"}),Object(xe.jsx)(Je.a.Item,{eventKey:"weapons",children:"weapons"}),Object(xe.jsx)(Je.a.Item,{eventKey:"magic",children:"magic"}),Object(xe.jsx)(Je.a.Item,{eventKey:"creatures",children:"creatures"}),Object(xe.jsx)(Je.a.Item,{eventKey:"foley",children:"foley"})]})]})}function W(){return Object(xe.jsxs)(Je.a,{onSelect:function(e){var t;t=e,E("offset"),t?P("limit",t):E("limit"),Y()},children:[Object(xe.jsx)(Je.a.Toggle,{variant:"outline-secondary",children:D()}),Object(xe.jsxs)(Je.a.Menu,{children:[Object(xe.jsx)(Je.a.Item,{eventKey:"5",children:"5"}),Object(xe.jsx)(Je.a.Item,{eventKey:"10",children:"10"}),Object(xe.jsx)(Je.a.Item,{eventKey:"20",children:"20"}),Object(xe.jsx)(Je.a.Item,{eventKey:"30",children:"30"}),Object(xe.jsx)(Je.a.Item,{eventKey:"50",children:"50"})]})]})}function Y(){return K.apply(this,arguments)}function K(){return K=Object(p.a)(d.a.mark((function e(){var t,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),t={offset:parseInt(z()),limit:parseInt(D())?parseInt(D()):30},U()&&(t.query=U()),G()&&(t.filter=G()),e.prev=4,e.next=7,$(t);case 7:if(200!==(r=e.sent).status){e.next=18;break}return n=[],e.next=12,Promise.all(r.data.tracks.map(function(){var e=Object(p.a)(d.a.mark((function e(t){var r,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,a=t.uuid,c="tracks/".concat(a,".wav"),e.next=5,We({objectName:c,downloadName:r});case 5:s=e.sent,n.push({uuid:a,name:r,url:s});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:g(n),j(r.data.tracks),x(!1),S(parseInt(r.data.track_count)),e.next=19;break;case 18:throw new Error;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),x(!1),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[4,21]])}))),K.apply(this,arguments)}return Object(n.useEffect)((function(){!function(){var t=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.packsStore.getPacks();case 2:return L(),t.next=5,e.userStore.getUserInfo();case 5:return t.next=7,e.userStore.getUsersList();case 7:"tracks"===s&&Y();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]),Object(xe.jsxs)("div",{children:[Object(xe.jsxs)("div",{className:"border rounded d-flex flex-row px-2 py-1",style:{backgroundColor:"#ebebeb",width:"100%"},children:[Object(xe.jsxs)("div",{className:"d-flex flex-row align-items-center mr-5",children:[Object(xe.jsx)("h5",{className:"mt-1 mr-5",children:"Library"}),"tracks"===s?Object(xe.jsx)(rt,{setQuery:function(e){return A(e)}}):null]}),Object(xe.jsxs)("div",{children:[Object(xe.jsx)(be.a,{variant:"link",onClick:function(){return o("packs")},children:"Packs"}),Object(xe.jsx)(be.a,{variant:"link",onClick:function(){return o("tracks")},children:"Tracks"})]})]}),"packs"===s?Object(xe.jsxs)("div",{children:[Object(xe.jsx)("h4",{className:"pt-3",children:"Packs"}),Object(xe.jsx)("hr",{className:"mt-1"}),Object(xe.jsx)("div",{className:"d-flex flex-row",children:q()})]}):Object(xe.jsxs)("div",{children:[Object(xe.jsx)("h4",{className:"pt-3",children:"Tracks"}),Object(xe.jsx)("hr",{className:"mt-1"}),Object(xe.jsxs)("div",{className:"p-1 d-flex flex-row justify-content-between",children:[Object(xe.jsxs)("div",{className:"d-flex flex-row align-items-baseline",children:[F(),U()?Object(xe.jsxs)("div",{className:"ml-2 d-flex flex-row align-items-baseline",children:[Object(xe.jsx)("p",{children:"+ ".concat(U())}),Object(xe.jsx)(be.a,{variant:"link",onClick:function(){return A(null)},children:"Remove"})]}):null]}),W()]}),f?Object(xe.jsx)(Oe.a,{animation:"border",role:"status"}):f||0!==l.length?0!==l.length?l.map((function(e){return!0===e.active?Object(xe.jsx)("div",{children:Object(xe.jsx)(tt,{tracksURLs:v,track:e,setQuery:function(e){return A(e)},getTracks:function(){return Y()}})},e.id):null})):void 0:null,M()]})]})}))),at=nt,ct=Object(u.b)("packsStore","userStore")(Object(u.c)((function(e){var t=Object(pe.i)(),r=Object(n.useState)(null),a=Object(je.a)(r,2),c=a[0],s=a[1],o=Object(n.useState)(),i=Object(je.a)(o,2),u=i[0],l=i[1];function j(){return h.apply(this,arguments)}function h(){return(h=Object(p.a)(d.a.mark((function t(){var r,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.packsStore.packInfo,t.next=3,We({objectName:"pack_images/".concat(r.image_file)});case 3:n=t.sent,console.log(n),l(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return f.apply(this,arguments)}function f(){return(f=Object(p.a)(d.a.mark((function r(){var n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.packName,r.next=3,e.packsStore.getPackInfo(n);case 3:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function x(){return(x=Object(p.a)(d.a.mark((function t(r){var n,a,c,s,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userStore.userInfo,a=-Math.abs(r.coin_cost),c=r.downloads+1,s={user_id:n.id,coins:a},o={pack_id:r.id,downloads:c},t.prev=5,t.next=8,I(s);case 8:return t.next=10,K(o);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[5,12]])})))).apply(this,arguments)}function m(){return O.apply(this,arguments)}function O(){return(O=Object(p.a)(d.a.mark((function e(){var r,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.packName,n="packs/".concat(r,"/").concat(r,".zip"),e.prev=2,e.next=5,We({objectName:n});case 5:if(!(a=e.sent)){e.next=11;break}return s(a),e.abrupt("return",!0);case 11:throw new Error("Could not get download link");case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function v(){if(e.userStore.userInfoLoading)return Object(xe.jsx)(Oe.a,{animation:"border",role:"status"});if(!e.userStore.userInfo)return null;var t=e.packsStore.packInfo;return Object(xe.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(xe.jsx)("p",{children:"Cost:"}),Object(xe.jsxs)("h4",{children:[t.coin_cost," ",Object(xe.jsx)(Ie.a,{className:"align-self-center",style:{fontSize:"25px",color:"orange"}})]}),e.userStore.userInfo.coins<t.coin_cost||!c?null:Object(xe.jsx)(be.a,{onClick:function(){return function(e){return x.apply(this,arguments)}(t)},children:Object(xe.jsx)("a",{style:{color:"white",textDecoration:"none"},href:c,download:t.title,children:"Download"})})]})}function g(e){if(e){var t=e.map((function(e){return Object(xe.jsx)("li",{className:"px-3",children:e.description},e.id)}));return Object(xe.jsx)("ul",{children:t})}}return Object(n.useEffect)((function(){!function(){var t=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:return j(),t.next=5,e.userStore.getUserInfo();case 5:m();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]),Object(xe.jsx)("div",{children:function(){if(e.packsStore.packInfoLoading)return Object(xe.jsx)(Oe.a,{animation:"border",role:"status"});if(!e.packsStore.packInfo)return Object(xe.jsx)("p",{children:"Can't get pack details"});var t=e.packsStore.packInfo,r=t.title.replaceAll("-"," ").toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ");return Object(xe.jsxs)("div",{className:"d-flex flex-row align-items-center justify-content-center",children:[Object(xe.jsxs)("div",{className:"d-flex flex-column",children:[u?Object(xe.jsx)(Fe.a,{className:"pack-img mr-3 mb-5",src:u}):Object(xe.jsx)(Oe.a,{animation:"border",role:"status"}),Object(xe.jsx)("h3",{className:"text-center",children:"Audio Demo"}),Object(xe.jsx)("iframe",{title:"pack-vid",className:"video",src:t.video_file,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]}),Object(xe.jsxs)("div",{className:"w-50",children:[Object(xe.jsx)("h1",{children:r}),Object(xe.jsxs)("div",{className:"px-3",children:[Object(xe.jsxs)("p",{children:['"',t.description,'"']}),Object(xe.jsx)("p",{children:"Asset Types:"}),g(t.asset_types)]}),Object(xe.jsx)("div",{className:"my-5 d-flex flex-column justify-content-center align-items-center",children:v()})]})]})}()})}))),st=ct,ot=function(e){Object(le.a)(r,e);var t=Object(de.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return this.props.loadingAuth?Object(xe.jsx)(Oe.a,{animation:"border",role:"status"}):Object(xe.jsx)("div",{children:Object(xe.jsx)("h1",{children:"Access Denied"})})}}]),r}(n.Component),it=function(e){Object(le.a)(r,e);var t=Object(de.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return Object(xe.jsx)("div",{className:"w-50 d-flex flex-column justify-content-center",children:Object(xe.jsx)("h1",{children:"No Match"})})}}]),r}(n.Component),ut=(r(109),function(e){Object(le.a)(r,e);var t=Object(de.a)(r);function r(){var e;return Object(j.a)(this,r),(e=t.call(this)).state={alert:!1,alertType:"warning",alertText:"Something went wrong, please try again."},e}return Object(h.a)(r,[{key:"componentDidUpdate",value:function(){var e=this;this.state.alert&&setTimeout((function(){e.setState({alert:!1})}),1e4)}},{key:"renderAlert",value:function(){if(this.state.alert)return Object(xe.jsx)(fe.a,{variant:this.state.alertType,children:this.state.alertText})}},{key:"handleSubmit",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.email.value.trim(),e.prev=2,e.next=5,X(r);case 5:200===e.sent.status&&this.setState({alert:!0,alertText:"Sent! Please check your email for instruction.",alertType:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&400===e.t0.response.status?this.setState({alert:!0,alertText:"No user found with this email.",alertType:"warning"}):this.setState({alert:!0,alertText:"Something went wrong, please try again.",alertType:"danger"});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(xe.jsxs)("div",{children:[this.renderAlert(),Object(xe.jsxs)(he.a,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(xe.jsx)(he.a.Group,{controlId:"email",children:Object(xe.jsx)(he.a.Control,{required:!0,style:{maxWidth:"400px"},size:"md",type:"text",placeholder:"Email"})}),Object(xe.jsx)(be.a,{variant:"outline-secondary",type:"submit",children:"Send Reset Password Link"})]})]})}}]),r}(n.Component));function lt(){var e=Object(n.useState)(!1),t=Object(je.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)("Something went wrong, please try again later!"),s=Object(je.a)(c,2),o=s[0],i=s[1],u=Object(n.useState)("warning"),l=Object(je.a)(u,2),j=l[0],h=l[1],b=Object(pe.i)().token;function f(){return(f=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.password.value,e.prev=2,e.next=5,Z(r,b);case 5:200===e.sent.status?(a(!0),h("success"),i("Password Has Been Reset!")):(a(!0),h("warning"),i("Your request has expired or is invalid.")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),a(!0),h("danger"),i("Something Went Wrong, Please Try Again Later.");case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){r&&setTimeout((function(){a(!1)}),1e4)})),Object(xe.jsxs)("div",{children:[function(){if(r)return Object(xe.jsx)(fe.a,{variant:j,children:o})}(),Object(xe.jsxs)(he.a,{onSubmit:function(e){return function(e){return f.apply(this,arguments)}(e)},children:[Object(xe.jsx)(he.a.Group,{controlId:"password",children:Object(xe.jsx)(he.a.Control,{required:!0,style:{maxWidth:"400px"},size:"md",type:"password",placeholder:"New Password"})}),Object(xe.jsx)(be.a,{variant:"outline-secondary",type:"submit",children:"Reset Password"})]})]})}var dt=r(73),pt=Object(u.b)("contributionStore","projectsStore","entryStore","userStore")(Object(u.c)((function(e){var t=Object(pe.i)(),r=Object(pe.h)(),a=Object(n.useState)([]),c=Object(je.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)(0),u=Object(je.a)(i,2),l=u[0],j=u[1],h=Object(n.useState)(0),b=Object(je.a)(h,2),f=b[0],x=b[1];function m(){return O.apply(this,arguments)}function O(){return O=Object(p.a)(d.a.mark((function r(){var n,a,c,s,i,u;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.id,r.next=3,e.contributionStore.getContributionInfo(n);case 3:return r.next=5,e.projectsStore.getProjectInfo(e.contributionStore.contributionInfo.project_id);case 5:return a=e.projectsStore.projectInfo.title,r.next=8,e.entryStore.getEntryInfo(e.contributionStore.contributionInfo.entry_id);case 8:return c=e.entryStore.entryInfo.title,r.next=11,e.userStore.getUserInfo(e.contributionStore.contributionInfo.user_id);case 11:return s="".concat(e.userStore.userInfo.first_name,"_").concat(e.userStore.userInfo.last_name),i=[],u=e.contributionStore.contributionInfo.contributed_assets,r.next=16,Promise.all(u.map(function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.uuid,o="submissions/".concat(a,"/").concat(c,"/").concat(s,"/").concat(n,".wav"),e.next=5,We({objectName:o,downloadName:r});case 5:u=e.sent,i.push({name:r,uuid:n,url:u});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 16:o(i);case 17:case"end":return r.stop()}}),r)}))),O.apply(this,arguments)}function v(){return(v=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:if(0===l){e.next=5;break}return e.next=5,y();case 5:r.push("/dashboard");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return k.apply(this,arguments)}function k(){return k=Object(p.a)(d.a.mark((function t(){var r,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.contributionStore.contributionInfo,n={contribution_id:r.id,status:0!==l?"Accepted":"Rejected"},t.prev=2,t.next=5,z(n);case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(2),console.log(t.t0),alert("Failed to update entry status");case 11:case"end":return t.stop()}}),t,null,[[2,7]])}))),k.apply(this,arguments)}function y(){return w.apply(this,arguments)}function w(){return w=Object(p.a)(d.a.mark((function t(){var r,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.contributionStore.contributionInfo,n={user_id:r.user_id,coins:l,approved_asset_count:f},t.prev=2,t.next=5,I(n);case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(2),console.log(t.t0),alert("Failed to send coins");case 11:case"end":return t.stop()}}),t,null,[[2,7]])}))),w.apply(this,arguments)}function S(e,t){return C.apply(this,arguments)}function C(){return C=Object(p.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={contributed_asset_id:t,status:r},e.prev=1,e.next=4,R(n);case 4:if(200!==e.sent.status){e.next=10;break}m(),"approved"===r&&(j(l+10),x(f+1)),e.next=11;break;case 10:throw new Error;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])}))),C.apply(this,arguments)}function N(e){var t=e.status;return t&&"pending"!==t?"approved"===t?Object(xe.jsx)("p",{className:"mr-3",style:{color:"green",margin:0},children:"approved"}):Object(xe.jsx)("p",{className:"mr-3",style:{color:"gray",margin:0},children:t}):Object(xe.jsxs)("div",{children:[Object(xe.jsx)(be.a,{className:"mr-3",variant:"outline-success",onClick:function(){return S(e.id,"approved")},children:"Approve"}),Object(xe.jsx)(be.a,{className:"mr-3",variant:"outline-danger",onClick:function(){return S(e.id,"rejected")},children:"Reject"})]})}return Object(n.useEffect)((function(){m()}),[]),Object(xe.jsxs)("div",{style:{width:"60vw"},children:[Object(xe.jsx)("h2",{className:"pb-3",children:"Asset Management"}),e.contributionStore.contributionInfo?e.contributionStore.contributionInfo.contributed_assets.slice().sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return Object(xe.jsxs)("div",{className:"py-2 px-2 d-flex flex-row justify-content-between align-items-baseline border rounded",style:{backgroundColor:"white"},children:[Object(xe.jsxs)(be.a,{variant:"link",onClick:function(){return function(e){var t=s.filter((function(t){return t.uuid===e}))[0].url;new Audio(t).play()}(e.uuid)},children:[e.name," ",Object(xe.jsx)(dt.a,{})]}),Object(xe.jsxs)("div",{className:"d-flex flex-row align-items-baseline",children:[N(e),Object(xe.jsx)(be.a,{variant:"link-secondary",style:{fontSize:"20px"},onClick:function(){return function(e){var t=s.filter((function(t){return t.uuid===e}))[0],r=document.createElement("a");r.href=t.url,r.download=t.name,r.click()}(e.uuid)},children:Object(xe.jsx)(Xe.a,{})})]})]},e.id)})):Object(xe.jsx)("p",{children:"Can't get contributed assets"}),Object(xe.jsx)("br",{}),Object(xe.jsxs)(be.a,{variant:"outline-info",onClick:function(){return function(){return v.apply(this,arguments)}()},children:["Complete with ",l," Coins"]})]})}))),jt=pt,ht=function(e){Object(le.a)(r,e);var t=Object(de.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"uploadImageFile",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={bucket_name:x,object_name:"project_images/".concat(t.name)},e.next=3,Le(t,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmitProject",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.projectTitle.value,n=t.target.projectDescription.value,a=t.target.projectImage.files[0].name,c=t.target.projectImage.files[0],s={title:r,description:n,image_file:a},e.prev=6,e.next=9,_(s);case 9:if(201!==e.sent.status){e.next=17;break}return e.next=13,this.props.projectsStore.getProjects();case 13:return this.props.createProjectBoolean(!1),e.next=16,this.uploadImageFile(c);case 16:this.props.getProjectImageURLs();case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.log(e.t0);case 22:case"end":return e.stop()}}),e,this,[[6,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(xe.jsx)("div",{className:"p-3 border rounded card-style admin-tools-item",children:Object(xe.jsxs)(he.a,{onSubmit:function(t){return e.handleSubmitProject(t)},children:[Object(xe.jsxs)(he.a.Group,{controlId:"projectTitle",children:[Object(xe.jsx)(he.a.Label,{children:"Title"}),Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"text",placeholder:"Project Title"})]}),Object(xe.jsxs)(he.a.Group,{controlId:"projectImage",children:[Object(xe.jsx)(he.a.Label,{children:"Image"}),Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"file",accept:"image/*"})]}),Object(xe.jsxs)(he.a.Group,{controlId:"projectDescription",children:[Object(xe.jsx)(he.a.Label,{children:"Description"}),Object(xe.jsx)(he.a.Control,{as:"textarea",required:!0,size:"md",type:"text",placeholder:"Project Description"})]}),Object(xe.jsx)(be.a,{variant:"outline-success",type:"submit",children:"Create Project"})]})})}}]),r}(n.Component),bt=Object(u.b)("projectsStore")(Object(u.c)(ht)),ft=function(e){Object(le.a)(r,e);var t=Object(de.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"handleSubmitEntry",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=this.props.projectId,n=t.target.entryAmount.value,a=t.target.entryTitle.value,c=t.target.entryDescription.value,s={project_id:r,amount:n,title:a,description:c},e.prev=6,e.next=9,E(s);case 9:201===e.sent.status&&(this.props.projectsStore.getProjects(),this.props.createEntryBoolean(!1)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(xe.jsx)("div",{className:"p-3 card-style border rounded",children:Object(xe.jsxs)(he.a,{onSubmit:function(t){return e.handleSubmitEntry(t)},children:[Object(xe.jsxs)(he.a.Group,{controlId:"entryAmount",children:[Object(xe.jsx)(he.a.Label,{children:"Amount"}),Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"number",placeholder:"Entry Amount"})]}),Object(xe.jsxs)(he.a.Group,{controlId:"entryTitle",children:[Object(xe.jsx)(he.a.Label,{children:"Title"}),Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"text",placeholder:"Entry Title"})]}),Object(xe.jsxs)(he.a.Group,{controlId:"entryDescription",children:[Object(xe.jsx)(he.a.Label,{children:"Description"}),Object(xe.jsx)(he.a.Control,{as:"textarea",required:!0,size:"md",type:"text",placeholder:"Entry Description"})]}),Object(xe.jsx)(be.a,{variant:"outline-success",type:"submit",children:"Create Entry"})]})})}}]),r}(n.Component),xt=Object(u.b)("projectsStore")(Object(u.c)(ft)),mt=function(e){Object(le.a)(r,e);var t=Object(de.a)(r);function r(e){var n;return Object(j.a)(this,r),(n=t.call(this,e)).state={uploadingBoolean:!1},n}return Object(h.a)(r,[{key:"uploadFile",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={bucket_name:x,object_name:r},e.next=3,Le(t,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"handleSubmitPack",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s,o,i,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.packTitle.value.trim(),n=t.target.packDescription.value.trim(),a=t.target.packImage.files[0].name,c=t.target.packImage.files[0],s=t.target.packVideo.value.trim(),o=t.target.packCoinCost.value,i=t.target.packAudio.files[0],u=r.replaceAll(" ","-").toLowerCase(),l={title:r,description:n,image_file:a,video_file:s,coin_cost:o},e.prev=10,e.next=13,Y(l);case 13:if(201!==e.sent.status){e.next=25;break}return this.setState({uploadingBoolean:!0}),e.next=18,this.uploadFile(c,"pack_images/".concat(c.name));case 18:return e.next=20,this.uploadFile(i,"packs/".concat(u,"/").concat(i.name));case 20:return this.setState({uploadingBoolean:!1}),this.props.createPackBoolean(!1),e.next=24,this.props.packsStore.getPacks();case 24:this.props.getPackImageURLs();case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(10),console.log(e.t0);case 30:case"end":return e.stop()}}),e,this,[[10,27]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(xe.jsx)("div",{className:"p-3 border rounded card-style admin-tools-item",children:Object(xe.jsxs)(he.a,{onSubmit:function(t){return e.handleSubmitPack(t)},children:[Object(xe.jsxs)(he.a.Group,{controlId:"packTitle",children:[Object(xe.jsx)(he.a.Label,{children:"Title"}),Object(xe.jsx)("small",{className:"ml-2",style:{color:"green"},children:"Title will auto-capitalize first letter of each word"}),Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"text",placeholder:"Pack Title"})]}),Object(xe.jsxs)(he.a.Group,{controlId:"packImage",children:[Object(xe.jsx)(he.a.Label,{children:"Image"}),Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"file",accept:"image/*"})]}),Object(xe.jsxs)(he.a.Group,{controlId:"packVideo",children:[Object(xe.jsx)(he.a.Label,{children:"Video Embed Link"}),Object(xe.jsx)("small",{className:"ml-2",style:{color:"red"},children:"The embed url, not the regular url"}),Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"text",placeholder:"Pack Video Link"})]}),Object(xe.jsxs)(he.a.Group,{controlId:"packDescription",children:[Object(xe.jsx)(he.a.Label,{children:"Description"}),Object(xe.jsx)(he.a.Control,{as:"textarea",required:!0,size:"md",type:"text",placeholder:"Pack Description"})]}),Object(xe.jsxs)(he.a.Group,{controlId:"packCoinCost",children:[Object(xe.jsx)(he.a.Label,{children:"Coin Cost"}),Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"number",placeholder:"Pack Coin Cost"})]}),Object(xe.jsxs)(he.a.Group,{controlId:"packAudio",children:[Object(xe.jsx)(he.a.Label,{children:"Audio Package"}),Object(xe.jsx)("small",{className:"ml-2",style:{color:"red"},children:"Must be a zipped folder!"}),Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"file",accept:".zip"})]}),this.state.uploadingBoolean?Object(xe.jsxs)("div",{children:[Object(xe.jsx)(Oe.a,{animation:"border",role:"status"}),Object(xe.jsx)("p",{style:{color:"green"},children:"This could take awhile..."})]}):Object(xe.jsx)(be.a,{variant:"outline-success",type:"submit",children:"Create Pack"})]})})}}]),r}(n.Component),Ot=Object(u.b)("packsStore")(Object(u.c)(mt)),vt=function(e){Object(le.a)(r,e);var t=Object(de.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"handleSubmitAssetType",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=this.props.packId,n=t.target.assetTypeDescription.value.trim(),a={pack_id:r,description:n},e.prev=4,e.next=7,V(a);case 7:201===e.sent.status&&(this.props.packsStore.getPacks(),this.props.createAssetTypeBoolean(!1)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(xe.jsx)("div",{className:"p-3 card-style border rounded",children:Object(xe.jsxs)(he.a,{onSubmit:function(t){return e.handleSubmitAssetType(t)},children:[Object(xe.jsxs)(he.a.Group,{controlId:"assetTypeDescription",children:[Object(xe.jsx)(he.a.Label,{children:"Description"}),Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"text",placeholder:"Asset Type Description"})]}),Object(xe.jsx)(be.a,{variant:"outline-success",type:"submit",children:"Create Asset Type"})]})})}}]),r}(n.Component),gt=Object(u.b)("packsStore")(Object(u.c)(vt)),kt=function(e){Object(le.a)(r,e);var t=Object(de.a)(r);function r(e){var n;return Object(j.a)(this,r),(n=t.call(this,e)).state={createProjectBoolean:!1,createEntryBoolean:!1,createPackBoolean:!1,createAssetTypeBoolean:!1,uploadTrackBoolean:!1,projectImageURLs:null,packImageURLs:null},n}return Object(h.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.userStore.getUsersList(),e.next=3,this.props.packsStore.getPacks();case 3:return this.getPackImageURLs(),e.next=6,this.props.projectsStore.getProjects();case 6:this.getProjectImageURLs();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleToggleClick",value:function(e,t){var r;this.setState((r={},Object(ye.a)(r,e,!this.state[e]),Object(ye.a)(r,t,!1),r))}},{key:"handleEditClick",value:function(e){this.setState(Object(ye.a)({},e,!this.state[e]))}},{key:"getProjectImageURLs",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,Promise.all(this.props.projectsStore.projects.map(function(){var e=Object(p.a)(d.a.mark((function e(r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We({objectName:"project_images/".concat(r.image_file)});case 2:n=e.sent,t.push(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:this.setState({projectImageURLs:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPackImageURLs",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,Promise.all(this.props.packsStore.packs.map(function(){var e=Object(p.a)(d.a.mark((function e(r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We({objectName:"pack_images/".concat(r.image_file)});case 2:n=e.sent,t.push(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:this.setState({packImageURLs:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleEditProjectSave",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,n){var a,c,s,o,i,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target.form["project".concat(r.id,"Title")].value,c=t.target.form["project".concat(r.id,"Description")].value,s=t.target.form["project".concat(r.id,"Image")].files[0]?t.target.form["project".concat(r.id,"Image")].files[0].name:null,o=t.target.form["project".concat(r.id,"Image")].files[0],i=t.target.form["project".concat(r.id,"Active")].checked,u=t.target.form["project".concat(r.id,"Complete")].checked,l={project_id:r.id},""!==a&&" "!==a&&(l.title=a),""!==c&&" "!==c&&(l.description=c),null!==s&&(l.image_file=s),r.active!==i&&(l.active=i),r.complete!==u&&(l.complete=u),!(Object.keys(l).length>1)){e.next=36;break}return e.prev=15,e.next=18,L(l);case 18:if(200!==e.sent.status){e.next=28;break}if(this.setState(Object(ye.a)({},n,!1)),this.props.projectsStore.getProjects(),!o){e.next=26;break}return e.next=25,this.uploadImageFile(o,"project_images");case 25:this.getProjectImageURLs();case 26:e.next=29;break;case 28:throw new Error;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(15),console.log(e.t0);case 34:e.next=37;break;case 36:this.setState(Object(ye.a)({},n,!1));case 37:case"end":return e.stop()}}),e,this,[[15,31]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"handleEditEntrySave",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,n){var a,c,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target.form["entry".concat(r.id,"Amount")].value,c=t.target.form["entry".concat(r.id,"Title")].value,s=t.target.form["entry".concat(r.id,"Complete")].checked,o={entry_id:r.id},""!==a&&" "!==a&&(o.amount=a),""!==c&&" "!==c&&(o.title=c),r.complete!==s&&(o.complete=s),!(Object.keys(o).length>1)){e.next=27;break}return e.prev=10,e.next=13,A(o);case 13:if(200!==e.sent.status){e.next=19;break}this.setState(Object(ye.a)({},n,!1)),this.props.projectsStore.getProjects(),e.next=20;break;case 19:throw new Error;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(10),console.log(e.t0);case 25:e.next=28;break;case 27:this.setState(Object(ye.a)({},n,!1));case 28:case"end":return e.stop()}}),e,this,[[10,22]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"handleEditUserSave",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,n){var a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=Number(t.target.form["user".concat(r,"ApprovedAssetCount")].value),c=Number(t.target.form["user".concat(r,"Coins")].value),s={user_id:r},0!==a&&(s.approved_asset_count=a),0!==c&&(s.coins=c),!(Object.keys(s).length>1)){e.next=25;break}return e.prev=8,e.next=11,I(s);case 11:if(200!==e.sent.status){e.next=17;break}this.setState(Object(ye.a)({},n,!1)),this.props.userStore.getUsersList(),e.next=18;break;case 17:throw new Error;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),console.log(e.t0);case 23:e.next=26;break;case 25:this.setState(Object(ye.a)({},n,!1));case 26:case"end":return e.stop()}}),e,this,[[8,20]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"handleEditPackSave",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,n){var a,c,s,o,i,u,l,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target.form["pack".concat(r.id,"Title")].value,c=t.target.form["pack".concat(r.id,"Description")].value,s=t.target.form["pack".concat(r.id,"Image")].files[0]?t.target.form["pack".concat(r.id,"Image")].files[0].name:null,o=t.target.form["pack".concat(r.id,"Image")].files[0],i=t.target.form["pack".concat(r.id,"Video")].value.trim(),u=t.target.form["pack".concat(r.id,"CoinCost")].value,l=t.target.form["pack".concat(r.id,"Active")].checked,p={pack_id:r.id},""!==a&&" "!==a&&(p.title=a.replaceAll(" ","-").toLowerCase()),""!==c&&" "!==c&&(p.description=c),null!==s&&(p.image_file=s),""!==i&&" "!==i&&(p.video_file=i),""!==u&&" "!==u&&(p.coin_cost=u),r.active!==l&&(p.active=l),!(Object.keys(p).length>1)){e.next=38;break}return e.prev=17,e.next=20,K(p);case 20:if(200!==e.sent.status){e.next=30;break}if(this.setState(Object(ye.a)({},n,!1)),this.props.packsStore.getPacks(),!o){e.next=28;break}return e.next=27,this.uploadImageFile(o,"pack_images");case 27:this.getPackImageURLs();case 28:e.next=31;break;case 30:throw new Error;case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(17),console.log(e.t0);case 36:e.next=39;break;case 38:this.setState(Object(ye.a)({},n,!1));case 39:case"end":return e.stop()}}),e,this,[[17,33]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"handleEditAssetTypeSave",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target.form["assetType".concat(r,"Description")].value,c={asset_type_id:r},""!==a&&" "!==a&&(c.description=a),!(Object.keys(c).length>1)){e.next=23;break}return e.prev=6,e.next=9,Q(c);case 9:if(200!==e.sent.status){e.next=15;break}this.setState(Object(ye.a)({},n,!1)),this.props.packsStore.getPacks(),e.next=16;break;case 15:throw new Error;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),console.log(e.t0);case 21:e.next=24;break;case 23:this.setState(Object(ye.a)({},n,!1));case 24:case"end":return e.stop()}}),e,this,[[6,18]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"handleDeleteProject",value:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(t);case 3:200===e.sent.status&&this.props.projectsStore.getProjects(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDeleteEntry",value:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(t);case 3:200===e.sent.status&&this.props.projectsStore.getProjects(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDeletePack",value:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H(t);case 3:200===e.sent.status&&this.props.packsStore.getPacks(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDeleteAssetType",value:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(t);case 3:200===e.sent.status&&this.props.packsStore.getPacks(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderEntriesToggleOrEdit",value:function(e,t,r){var n=this;return this.state[e]&&!this.state[t]?Object(xe.jsxs)("div",{className:"px-5",children:[Object(xe.jsxs)("p",{children:["Amount: ",r.amount]}),Object(xe.jsxs)("p",{children:["Description: ",r.description]}),Object(xe.jsxs)("p",{children:["Complete: ",r.complete?"true":"false"]})]}):this.state[e]&&this.state[t]?Object(xe.jsxs)(he.a,{className:"p-3 card-style border rounded",children:[Object(xe.jsxs)(he.a.Group,{controlId:"entry".concat(r.id,"Amount"),children:[Object(xe.jsx)(he.a.Label,{children:"Amount"}),Object(xe.jsx)(he.a.Control,{size:"md",type:"number",placeholder:r.amount})]}),Object(xe.jsxs)(he.a.Group,{controlId:"entry".concat(r.id,"Title"),children:[Object(xe.jsx)(he.a.Label,{children:"Title"}),Object(xe.jsx)(he.a.Control,{size:"md",type:"text",placeholder:r.title})]}),Object(xe.jsxs)(he.a.Group,{controlId:"entry".concat(r.id,"Description"),children:[Object(xe.jsx)(he.a.Label,{children:"Description"}),Object(xe.jsx)(he.a.Control,{as:"textarea",size:"md",type:"text",placeholder:r.description})]}),Object(xe.jsxs)(he.a.Group,{controlId:"entry".concat(r.id,"Complete"),children:[Object(xe.jsx)(he.a.Label,{children:"Complete"}),Object(xe.jsx)(he.a.Check,{size:"md",type:"switch",defaultChecked:!!r.complete})]}),Object(xe.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(xe.jsx)(be.a,{variant:"outline-success",onClick:function(e){return n.handleEditEntrySave(e,r,t)},children:"Save"}),Object(xe.jsx)(be.a,{variant:"outline-secondary",onClick:function(){return n.setState(Object(ye.a)({},t,!1))},children:"Cancel"}),Object(xe.jsx)(be.a,{variant:"outline-danger",onClick:function(){return n.handleDeleteEntry(r.id)},children:"Delete"})]})]}):null}},{key:"renderProjectEntries",value:function(e){var t=this;return e.map((function(e){var r="entry".concat(e.id,"Toggle"),n="entry".concat(e.id,"Edit");return Object(xe.jsxs)("div",{className:"px-3",children:[Object(xe.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(xe.jsxs)(be.a,{variant:"link",onClick:function(){return t.handleToggleClick(r,n)},children:[e.title," ",t.state[r]?"\u25bc":"\u25b2"]}),Object(xe.jsx)(be.a,{variant:"link",disabled:!t.state[r],onClick:function(){return t.handleEditClick(n)},children:"Edit"})]}),t.renderEntriesToggleOrEdit(r,n,e)]},e.id)}))}},{key:"renderProjectImage",value:function(e){if(!this.state.projectImageURLs)return null;var t=this.state.projectImageURLs.filter((function(t){return t.includes(e.image_file)}));return Object(xe.jsx)(Fe.a,{className:"small-img",src:t,rounded:!0})}},{key:"renderProjectsToggleOrEdit",value:function(e,t,r){var n=this;return this.state[e]&&!this.state[t]?Object(xe.jsxs)("div",{className:"px-3",children:[Object(xe.jsxs)("p",{children:["Description: ",r.description]}),this.renderProjectImage(r),Object(xe.jsxs)("p",{children:["Active: ",r.active?"true":"false"]}),Object(xe.jsxs)("p",{children:["Complete: ",r.complete?"true":"false"]}),Object(xe.jsxs)("div",{children:[Object(xe.jsx)("p",{children:Object(xe.jsx)("b",{children:"Entries:"})}),this.renderProjectEntries(r.entries),Object(xe.jsx)(be.a,{className:"px-3 py-3",variant:"link",onClick:function(){return n.setState({createEntryBoolean:!n.state.createEntryBoolean})},children:this.state.createEntryBoolean?"- Create New Entry":"+ Create New Entry"}),this.state.createEntryBoolean?Object(xe.jsx)(xt,{projectId:r.id,createEntryBoolean:function(e){return n.setState({createEntryBoolean:e})}}):null]})]}):this.state[e]&&this.state[t]?Object(xe.jsxs)(he.a,{className:"p-3 card-style border rounded",children:[Object(xe.jsxs)(he.a.Group,{controlId:"project".concat(r.id,"Title"),children:[Object(xe.jsx)(he.a.Label,{children:"Title"}),Object(xe.jsx)(he.a.Control,{size:"md",type:"text",placeholder:r.title})]}),Object(xe.jsxs)(he.a.Group,{controlId:"project".concat(r.id,"Description"),children:[Object(xe.jsx)(he.a.Label,{children:"Description"}),Object(xe.jsx)(he.a.Control,{as:"textarea",size:"md",type:"text",placeholder:r.description})]}),Object(xe.jsxs)(he.a.Group,{controlId:"project".concat(r.id,"Image"),children:[Object(xe.jsx)(he.a.Label,{children:"Image"}),Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"file",accept:"image/*",placeholder:r.image_file})]}),Object(xe.jsxs)(he.a.Group,{controlId:"project".concat(r.id,"Active"),children:[Object(xe.jsx)(he.a.Label,{children:"Active"}),Object(xe.jsx)(he.a.Check,{size:"md",type:"switch",defaultChecked:!!r.active})]}),Object(xe.jsxs)(he.a.Group,{controlId:"project".concat(r.id,"Complete"),children:[Object(xe.jsx)(he.a.Label,{children:"Complete"}),Object(xe.jsx)(he.a.Check,{size:"md",type:"switch",defaultChecked:!!r.complete})]}),Object(xe.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(xe.jsx)(be.a,{variant:"outline-success",onClick:function(e){return n.handleEditProjectSave(e,r,t)},children:"Save"}),Object(xe.jsx)(be.a,{variant:"outline-secondary",onClick:function(){return n.setState(Object(ye.a)({},t,!1))},children:"Cancel"}),Object(xe.jsx)(be.a,{variant:"outline-danger",onClick:function(){return n.handleDeleteProject(r.id)},children:"Delete"})]})]}):null}},{key:"renderProjects",value:function(){var e=this;return this.props.projectsStore.projectsLoading?null:this.props.projectsStore.projects?this.props.projectsStore.projects.map((function(t){var r="project".concat(t.id,"Toggle"),n="project".concat(t.id,"Edit");return Object(xe.jsxs)("div",{className:"px-3 py-1 border rounded admin-tools-item",children:[Object(xe.jsxs)("div",{className:"d-flex justify-content-between flex-wrap",children:[Object(xe.jsxs)(be.a,{variant:"link",onClick:function(){return e.handleToggleClick(r,n)},children:[t.title," ",e.state[r]?"\u25bc":"\u25b2"]}),Object(xe.jsx)(be.a,{variant:"link",disabled:!e.state[r],onClick:function(){return e.handleEditClick(n)},children:"Edit"})]}),e.renderProjectsToggleOrEdit(r,n,t)]},t.id)})):Object(xe.jsx)("p",{children:"Can't get projects!"})}},{key:"renderAssetTypesEdit",value:function(e,t){var r=this;return this.state[e]?Object(xe.jsxs)(he.a,{className:"p-3 card-style border rounded",children:[Object(xe.jsxs)(he.a.Group,{controlId:"assetType".concat(t.id,"Description"),children:[Object(xe.jsx)(he.a.Label,{children:"Description"}),Object(xe.jsx)(he.a.Control,{size:"md",type:"text",placeholder:t.description})]}),Object(xe.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(xe.jsx)(be.a,{variant:"outline-success",onClick:function(n){return r.handleEditAssetTypeSave(n,t.id,e)},children:"Save"}),Object(xe.jsx)(be.a,{variant:"outline-secondary",onClick:function(){return r.setState(Object(ye.a)({},e,!1))},children:"Cancel"}),Object(xe.jsx)(be.a,{variant:"outline-danger",onClick:function(){return r.handleDeleteAssetType(t.id)},children:"Delete"})]})]}):null}},{key:"renderPackAssetTypes",value:function(e){var t=this;return e.map((function(e){var r="assetType".concat(e.id,"Edit");return Object(xe.jsxs)("div",{className:"px-3",children:[Object(xe.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(xe.jsxs)("p",{children:["~ ",e.description]}),Object(xe.jsx)(be.a,{variant:"link",onClick:function(){return t.handleEditClick(r)},children:"Edit"})]}),t.renderAssetTypesEdit(r,e)]},e.id)}))}},{key:"renderPackImage",value:function(e){if(!this.state.packImageURLs)return null;var t=this.state.packImageURLs.filter((function(t){return t.includes(e.image_file)}));return Object(xe.jsx)(Fe.a,{className:"small-img",src:t,rounded:!0})}},{key:"renderPacksToggleOrEdit",value:function(e,t,r){var n=this,a=r.title.replaceAll("-"," ").toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ");return this.state[e]&&!this.state[t]?Object(xe.jsxs)("div",{className:"px-3",children:[Object(xe.jsxs)("p",{children:["Title: ",a]}),Object(xe.jsxs)("p",{children:["Description: ",r.description]}),this.renderPackImage(r),Object(xe.jsx)("br",{}),Object(xe.jsx)("iframe",{title:"pack-vid",className:"video-sm",src:r.video_file,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),Object(xe.jsxs)("p",{children:["Coin Cost: ",r.coin_cost]}),Object(xe.jsxs)("p",{children:["Active: ",r.active?"true":"false"]}),Object(xe.jsxs)("p",{children:["Downloads: ",r.downloads]}),Object(xe.jsxs)("div",{children:[Object(xe.jsx)("p",{children:Object(xe.jsx)("b",{children:"Asset Types:"})}),this.renderPackAssetTypes(r.asset_types),Object(xe.jsx)(be.a,{className:"px-3 py-3",variant:"link",onClick:function(){return n.setState({createAssetTypeBoolean:!n.state.createAssetTypeBoolean})},children:this.state.createAssetTypeBoolean?"- Create New Asset Type":"+ Create New Asset Type"}),this.state.createAssetTypeBoolean?Object(xe.jsx)(gt,{packId:r.id,createAssetTypeBoolean:function(e){return n.setState({createAssetTypeBoolean:e})}}):null]})]}):this.state[e]&&this.state[t]?Object(xe.jsxs)(he.a,{className:"p-3 card-style border rounded",children:[Object(xe.jsxs)(he.a.Group,{controlId:"pack".concat(r.id,"Title"),children:[Object(xe.jsx)(he.a.Label,{children:"Title"}),Object(xe.jsx)("small",{className:"ml-2",style:{color:"green"},children:"Title will auto-capitalize first letter of each word"}),Object(xe.jsx)(he.a.Control,{size:"md",type:"text",placeholder:a})]}),Object(xe.jsxs)(he.a.Group,{controlId:"pack".concat(r.id,"Description"),children:[Object(xe.jsx)(he.a.Label,{children:"Description"}),Object(xe.jsx)(he.a.Control,{as:"textarea",size:"md",type:"text",placeholder:r.description})]}),Object(xe.jsxs)(he.a.Group,{controlId:"pack".concat(r.id,"Image"),children:[Object(xe.jsx)(he.a.Label,{children:"Image"}),Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"file",accept:"image/*",placeholder:r.image_file})]}),Object(xe.jsxs)(he.a.Group,{controlId:"pack".concat(r.id,"Video"),children:[Object(xe.jsx)(he.a.Label,{children:"Video Embed Link"}),Object(xe.jsx)("small",{className:"ml-2",style:{color:"red"},children:"The embed url, not the regular url"}),Object(xe.jsx)(he.a.Control,{required:!0,size:"md",type:"text",placeholder:r.video_file})]}),Object(xe.jsxs)(he.a.Group,{controlId:"pack".concat(r.id,"CoinCost"),children:[Object(xe.jsx)(he.a.Label,{children:"Coin Cost"}),Object(xe.jsx)(he.a.Control,{size:"md",type:"number",placeholder:r.coin_cost})]}),Object(xe.jsxs)(he.a.Group,{controlId:"pack".concat(r.id,"Active"),children:[Object(xe.jsx)(he.a.Label,{children:"Active"}),Object(xe.jsx)(he.a.Check,{size:"md",type:"switch",defaultChecked:!!r.active})]}),Object(xe.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(xe.jsx)(be.a,{variant:"outline-success",onClick:function(e){return n.handleEditPackSave(e,r,t)},children:"Save"}),Object(xe.jsx)(be.a,{variant:"outline-secondary",onClick:function(){return n.setState(Object(ye.a)({},t,!1))},children:"Cancel"}),Object(xe.jsx)(be.a,{variant:"outline-danger",onClick:function(){return n.handleDeletePack(r.id)},children:"Delete"})]})]}):null}},{key:"renderPacks",value:function(){var e=this;return this.props.packsStore.packsLoading?null:this.props.packsStore.packs?this.props.packsStore.packs.map((function(t){var r="pack".concat(t.id,"Toggle"),n="pack".concat(t.id,"Edit"),a=t.title.replaceAll("-"," ").toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ");return Object(xe.jsxs)("div",{className:"px-3 py-1 rounded border admin-tools-item",children:[Object(xe.jsxs)("div",{className:"d-flex justify-content-between flex-wrap",children:[Object(xe.jsxs)(be.a,{variant:"link",onClick:function(){return e.handleToggleClick(r,n)},children:[a," ",e.state[r]?"\u25bc":"\u25b2"]}),Object(xe.jsx)(be.a,{variant:"link",disabled:!e.state[r],onClick:function(){return e.handleEditClick(n)},children:"Edit"})]}),e.renderPacksToggleOrEdit(r,n,t)]},t.id)})):Object(xe.jsx)("p",{children:"Can't get packs!"})}},{key:"renderUserToggleOrEdit",value:function(e,t,r){var n=this;return this.state[e]&&!this.state[t]?Object(xe.jsx)("div",{className:"px-3 py-1",children:Object(xe.jsxs)("div",{className:"px-3",children:[Object(xe.jsxs)("p",{children:["- Approved Asset Count: ",r.approved_asset_count]}),Object(xe.jsxs)("p",{children:["- Coins: ",r.coins]})]})},r.id):this.state[e]&&this.state[t]?Object(xe.jsxs)(he.a,{className:"p-3 card-style border rounded",children:[Object(xe.jsxs)(he.a.Group,{controlId:"user".concat(r.id,"ApprovedAssetCount"),children:[Object(xe.jsxs)(he.a.Label,{children:["Approved Asset Count + ",r.approved_asset_count," ",Object(xe.jsx)("small",{children:"(Current Amount)"})]}),Object(xe.jsx)(he.a.Control,{size:"md",type:"number",placeholder:0})]}),Object(xe.jsxs)(he.a.Group,{controlId:"user".concat(r.id,"Coins"),children:[Object(xe.jsxs)(he.a.Label,{children:["Coins + ",r.coins," ",Object(xe.jsx)("small",{children:"(Current Amount)"})]}),Object(xe.jsx)(he.a.Control,{size:"md",type:"number",placeholder:0})]}),Object(xe.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(xe.jsx)(be.a,{variant:"outline-success",onClick:function(e){return n.handleEditUserSave(e,r.id,t)},children:"Save"}),Object(xe.jsx)(be.a,{variant:"outline-secondary",onClick:function(){return n.setState(Object(ye.a)({},t,!1))},children:"Cancel"})]})]}):null}},{key:"renderUsersList",value:function(){var e=this;return this.props.userStore.usersListLoading?null:this.props.userStore.usersList?this.props.userStore.usersList.map((function(t){var r="user".concat(t.id,"Toggle"),n="user".concat(t.id,"Edit");return t.active?Object(xe.jsxs)("div",{className:"px-3 py-1 rounded border admin-tools-item",children:[Object(xe.jsxs)("div",{className:"d-flex justify-content-between flex-wrap",children:[Object(xe.jsxs)(be.a,{variant:"link",onClick:function(){return e.handleToggleClick(r,n)},children:["".concat(t.first_name," ").concat(t.last_name," (").concat(t.username,") ").concat(t.email)," ",e.state[r]?"\u25bc":"\u25b2"]}),Object(xe.jsx)(be.a,{variant:"link",disabled:!e.state[r],onClick:function(){return e.handleEditClick(n)},children:"Edit"})]}),e.renderUserToggleOrEdit(r,n,t)]},t.id):null})):Object(xe.jsx)("p",{children:"Can't get users list!"})}},{key:"uploadImageFile",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={bucket_name:x,object_name:"".concat(r,"/").concat(t.name)},e.next=3,Le(t,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.projectsStore.projectsLoading||this.props.packsStore.packsLoading||this.props.userStore.usersListLoading?Object(xe.jsx)(Oe.a,{animation:"border",role:"status"}):Object(xe.jsxs)("div",{children:[Object(xe.jsx)("p",{style:{fontSize:"20px"},children:"Create"}),Object(xe.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-start",children:[Object(xe.jsx)(be.a,{className:"px-3 py-1",variant:"link",onClick:function(){return e.setState({createProjectBoolean:!e.state.createProjectBoolean})},children:this.state.createProjectBoolean?"- Create New Project":"+ Create New Project"}),this.state.createProjectBoolean?Object(xe.jsx)(bt,{getProjectImageURLs:function(){return e.getProjectImageURLs()},createProjectBoolean:function(t){return e.setState({createProjectBoolean:t})}}):null,Object(xe.jsx)(be.a,{className:"px-3 py-1",variant:"link",onClick:function(){return e.setState({createPackBoolean:!e.state.createPackBoolean})},children:this.state.createPackBoolean?"- Create New Pack":"+ Create New Pack"}),this.state.createPackBoolean?Object(xe.jsx)(Ot,{getPackImageURLs:function(){return e.getPackImageURLs()},createPackBoolean:function(t){return e.setState({createPackBoolean:t})}}):null,Object(xe.jsx)(be.a,{className:"px-3 py-1",variant:"link",onClick:function(){return e.setState({uploadTrackBoolean:!e.state.uploadTrackBoolean})},children:this.state.uploadTrackBoolean?"- Upload New Track":"+ Upload New Track"}),this.state.uploadTrackBoolean?Object(xe.jsx)(Ue,{authorId:this.props.userStore.userInfo.id,uploadTrackBoolean:function(t){return e.setState({uploadTrackBoolean:t})}}):null]}),Object(xe.jsx)("p",{style:{fontSize:"20px"},children:"Projects"}),this.renderProjects(),Object(xe.jsx)("p",{style:{fontSize:"20px"},children:"Packs"}),this.renderPacks(),Object(xe.jsx)("p",{style:{fontSize:"20px"},children:"Users"}),this.renderUsersList()]})}}]),r}(n.Component),yt=Object(u.b)("projectsStore","userStore","packsStore")(Object(u.c)(kt));function wt(e){var t=e.typeOfEdit,r=e.toggle,n=e.inputType,a=e.handleEdit,c=e.item,s=e.setItem;function o(e){e.preventDefault();var n=e.target[t].value.trim(),c=Object(ye.a)({},t,n);a({params:c,typeOfEdit:t,toggle:r})}return"textarea"===n?Object(xe.jsxs)(he.a,{className:"d-flex flex-row",onSubmit:function(e){return o(e)},children:[Object(xe.jsx)(he.a.Group,{controlId:t,children:Object(xe.jsx)(he.a.Control,{required:!0,as:n,rows:10,cols:80,size:"sm",value:c,onChange:function(e){return s(e.target.value)}})}),Object(xe.jsx)(be.a,{type:"submit",variant:"link",children:"Complete"})]}):Object(xe.jsxs)(he.a,{className:"d-flex flex-row",onSubmit:function(e){return o(e)},children:[Object(xe.jsx)(he.a.Group,{controlId:t,children:Object(xe.jsx)(he.a.Control,{required:!0,size:"sm",type:n,value:c,onChange:function(e){return s(e.target.value)}})}),Object(xe.jsx)(be.a,{type:"submit",variant:"link",children:"Complete"})]})}var St=Object(u.b)("userStore")(Object(u.c)((function(e){var t=Object(pe.h)(),r=Object(pe.i)(),a=Object(n.useState)([]),c=Object(je.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)(!1),u=Object(je.a)(i,2),l=u[0],j=u[1],h=Object(n.useState)([]),b=Object(je.a)(h,2),f=b[0],x=b[1],m=Object(n.useState)(0),O=Object(je.a)(m,2),v=O[0],g=O[1],k=Object(n.useState)(!1),w=Object(je.a)(k,2),S=w[0],I=w[1],C=Object(n.useState)(),N=Object(je.a)(C,2),_=N[0],L=N[1],T=Object(n.useState)(null),P=Object(je.a)(T,2),E=P[0],A=P[1];function U(e,n){var a=new URLSearchParams({});if("query"===e&&""!==n)a.append("query",n);else if("offset"===e){var c=B();""!==c&&a.append("query",c),0!==n&&a.append("offset",n)}var s=a.toString();t.push({pathname:"/profile/".concat(r.username),search:s})}function D(e){U("query",e),M()}function B(){var e=new Proxy(new URLSearchParams(t.location.search),{get:function(e,t){return e.get(t)}}).query;return e||""}function z(e){U("offset",e),M()}function G(){var e=new Proxy(new URLSearchParams(t.location.search),{get:function(e,t){return e.get(t)}}).offset;return e||0}function R(){return q.apply(this,arguments)}function q(){return(q=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(r.username);case 2:t=e.sent,A(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return F.apply(this,arguments)}function F(){return F=Object(p.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),t={offset:parseInt(G()),limit:10},""!==B()&&(t.query=B()),e.prev=3,e.next=6,ee(r.username,t);case 6:if(200!==(n=e.sent).status){e.next=17;break}return a=[],e.next=11,Promise.all(n.data.tracks.map(function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.uuid,c="tracks/".concat(n,".wav"),e.next=5,We({objectName:c,downloadName:r});case 5:s=e.sent,a.push({uuid:n,name:r,url:s});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:x(a),o(n.data.tracks),j(!1),g(n.data.track_count),e.next=18;break;case 17:throw new Error;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),j(!1),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[3,20]])}))),F.apply(this,arguments)}Object(n.useEffect)((function(){!function(){var t=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.userStore.getUsersList();case 2:return t.next=4,e.userStore.getUserInfo();case 4:e.userStore.userInfo&&L(e.userStore.userInfo.about),R(),M();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]);var W=e.userStore.userInfo;return Object(xe.jsxs)("div",{children:[Object(xe.jsxs)("div",{className:"d-flex flex-row",children:[Object(xe.jsx)("h4",{className:"mr-5",children:r.username}),Object(xe.jsx)(rt,{setQuery:function(e){return D(e)}})]}),Object(xe.jsxs)("div",{children:[Object(xe.jsxs)("div",{className:"d-flex flex-row align-items-baseline",children:[Object(xe.jsx)("p",{children:"About:"}),W&&W.username===r.username?Object(xe.jsx)(be.a,{variant:"link",onClick:function(){return I(!S)},children:S?"Edit -":"Edit +"}):null]}),S?wt({typeOfEdit:"about",toggle:"about",inputType:"textarea",handleEdit:function(t){return function(t){var r=t.params;r.user_id=e.userStore.userInfo.id,e.userStore.editUserInfo(r),I(!1)}(t)},item:_,setItem:L}):W&&W.username===r.username?Object(xe.jsxs)("p",{className:"pl-3",style:{fontSize:"20px"},children:['"',e.userStore.userInfo.about,'"']}):E?Object(xe.jsxs)("p",{className:"pl-3",style:{fontSize:"20px"},children:['"',E.about,'"']}):void 0]}),Object(xe.jsx)("hr",{className:"mt-1"}),Object(xe.jsx)("div",{className:"d-flex flex-row align-items-baseline",children:""!==B()?Object(xe.jsxs)("div",{className:"ml-2 d-flex flex-row align-items-baseline",children:[Object(xe.jsx)("p",{children:"+ ".concat(B())}),Object(xe.jsx)(be.a,{variant:"link",onClick:function(){return D("")},children:"Remove"})]}):null}),Object(xe.jsxs)("p",{className:"d-flex flex-row justify-content-end",children:["Results: ",v]}),l?Object(xe.jsx)(Oe.a,{animation:"border",role:"status"}):l||0!==s.length?0!==s.length?s.map((function(e){return Object(xe.jsx)("div",{children:Object(xe.jsx)(tt,{tracksURLs:f,track:e,setQuery:function(e){return D(e)},getTracks:function(){return M()}})},e.id)})):void 0:null,Object(xe.jsx)("div",{className:"py-3 text-center align-items-center",children:Object(xe.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[Object(xe.jsx)(be.a,{disabled:0===G(),variant:"link",onClick:function(){z(G()-10)},children:"Previous"}),Object(xe.jsx)(be.a,{disabled:G()+10>=v,variant:"link",onClick:function(){z(G()+10)},children:"Next"})]})})]})}))),It=St;function Ct(){return Object(xe.jsxs)("div",{children:[Object(xe.jsx)("h3",{children:"Upgrade to Premium"}),Object(xe.jsxs)("p",{children:["Under Construction. Please email ",Object(xe.jsx)("a",{href:"mailto:admin@sfaudioguild.com",children:"admin@sfaudioguild.com"})," for premium."]})]})}function Nt(){return Object(xe.jsxs)("div",{children:[Object(xe.jsx)("h1",{children:"Buy Coins"}),Object(xe.jsx)("p",{children:"Don't want to wait to participate? Buy a bag of coins to use in our community library!"}),Object(xe.jsx)("p",{children:"Under Construction"})]})}var _t=Object(u.b)("userStore")(Object(u.c)((function(e){var t=Object(n.useState)(!1),r=Object(je.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)(!1),o=Object(je.a)(s,2),i=o[0],u=o[1],l=Object(n.useState)(""),j=Object(je.a)(l,2),h=j[0],b=j[1],f=Object(n.useState)("warning"),x=Object(je.a)(f,2),m=x[0],O=x[1],v=Object(n.useState)("Something went wrong, please try again later!"),g=Object(je.a)(v,2),k=g[0],y=g[1];function w(){return w=Object(p.a)(d.a.mark((function t(r){var n,a,s,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),n=r.target.address.value.trim(),a=r.target.city.value.trim(),s=r.target.state.value.trim(),o=r.target.phone.value.trim(),i={user_id:e.userStore.userInfo.id,address:"".concat(n,", ").concat(a,", ").concat(s),phone:o},t.prev=6,t.next=9,I(i);case 9:200===t.sent.status&&c(!0),t.next=19;break;case 13:t.prev=13,t.t0=t.catch(6),console.log(t.t0.response),u(!0),O("danger"),y("Something went wrong, please try again later!");case 19:case"end":return t.stop()}}),t,null,[[6,13]])}))),w.apply(this,arguments)}return Object(n.useEffect)((function(){i&&setTimeout((function(){u(!1)}),5e3)})),a?Object(xe.jsxs)("div",{children:[Object(xe.jsx)("h2",{children:"Success!"}),Object(xe.jsx)("p",{children:"Thanks for applying to be a contributor! We will review your application and update your account soon."})]}):Object(xe.jsxs)("div",{children:[function(){if(i)return Object(xe.jsx)(fe.a,{variant:m,children:k})}(),Object(xe.jsxs)(he.a,{onSubmit:function(e){return function(e){return w.apply(this,arguments)}(e)},children:[Object(xe.jsx)(he.a.Group,{controlId:"address",children:Object(xe.jsx)(he.a.Control,{required:!0,style:{maxWidth:"400px"},size:"md",type:"address",placeholder:"Physical Address"})}),Object(xe.jsx)(he.a.Group,{controlId:"city",children:Object(xe.jsx)(he.a.Control,{required:!0,style:{maxWidth:"200px"},size:"md",type:"city",placeholder:"City"})}),Object(xe.jsx)(he.a.Group,{controlId:"state",children:Object(xe.jsx)(he.a.Control,{required:!0,style:{maxWidth:"200px"},size:"md",type:"state",placeholder:"State"})}),Object(xe.jsx)(he.a.Group,{controlId:"phone",children:Object(xe.jsx)(he.a.Control,{required:!0,style:{maxWidth:"200px"},size:"md",type:"tel",placeholder:"Phone: 555-555-5555",value:h,onChange:function(e){if(e.target.value.length<13){var t=(""+e.target.value).replace(/\D/g,""),r="".concat(t.substring(0,3)).concat(t.length>3?"-":"").concat(t.substring(3,6)).concat(t.length>6?"-":"").concat(t.substring(6,11));b(r)}}})}),Object(xe.jsxs)("p",{children:["Please read and agree to our ",Object(xe.jsx)("a",{href:"http://sfaudioguild.com/contributor-license-agreement.pdf",target:"_blank",rel:"noopener noreferrer",children:"CONTRIBUTOR LICENSE AGREEMENT"})," before applying"]}),Object(xe.jsx)(he.a.Group,{controlId:"userAgreement",children:Object(xe.jsx)(he.a.Check,{required:!0,type:"checkbox",label:"I agree to the CONTRIBUTOR LICENSE AGREEMENT"})}),Object(xe.jsxs)("p",{children:["Please download and email a signed copy of our ",Object(xe.jsx)("a",{href:"http://sfaudioguild.com/copyright-license-agreement.pdf",target:"_blank",rel:"noopener noreferrer",children:"COPYRIGHT LICENSE AGREEMENT"})," to ",Object(xe.jsx)("a",{href:"mailto:admin@sfaudioguild.com",children:"admin@sfaudioguild.com"})]}),Object(xe.jsx)(he.a.Group,{controlId:"copyrightSigned",children:Object(xe.jsx)(he.a.Check,{required:!0,type:"checkbox",label:"I have emailed a signed copy of the COPYRIGHT LICENSE AGREEMENT"})}),Object(xe.jsx)(be.a,{variant:"outline-secondary",type:"submit",children:"Apply for Contributor"})]})]})}))),Lt=_t,Tt=function(e){Object(le.a)(r,e);var t=Object(de.a)(r);function r(e){var n;return Object(j.a)(this,r),(n=t.call(this,e)).authenticate=function(){n.setState({loadingAuth:!0},Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")){e.next=18;break}return e.prev=2,e.next=5,g();case 5:if(200!==e.sent.status){e.next=10;break}n.setState({authenticated:!0,loadingAuth:!1}),e.next=11;break;case 10:throw new Error;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.setState({authenticated:!1,loadingAuth:!1});case 16:e.next=19;break;case 18:n.setState({authenticated:!1,loadingAuth:!1});case 19:case"end":return e.stop()}}),e,null,[[2,13]])}))))},n.state={authenticated:!1,loadingAuth:!1,hideSideBar:!1},n}return Object(h.a)(r,[{key:"componentDidMount",value:function(){this.authenticate()}},{key:"renderSideBar",value:function(){var e=this,t=this.state.authenticated;return this.state.hideSideBar?Object(xe.jsx)("div",{className:"d-flex flex-column sticky-top",style:{height:"40px"},children:Object(xe.jsx)("button",{className:"hide-btn m-0",onClick:function(){return e.setState({hideSideBar:!1})},children:Object(xe.jsx)(Ie.c,{style:{fontSize:"30px"}})})}):Object(xe.jsxs)("div",{className:"d-flex flex-column sticky-top border rounded card-style",style:{width:"170px",height:"100vh",backgroundColor:"white"},children:[Object(xe.jsx)(Re,{}),Object(xe.jsx)(Me,{authenticated:t}),Object(xe.jsx)("br",{}),Object(xe.jsx)("button",{className:"hide-btn align-self-start ml-2",onClick:function(){return e.setState({hideSideBar:!0})},children:Object(xe.jsx)(Ie.b,{style:{fontSize:"30px"}})})]})}},{key:"render",value:function(){var e=this.state,t=e.authenticated,r=e.loadingAuth;return Object(xe.jsxs)("div",{className:"App d-flex flex-row h-100",children:[this.renderSideBar(),Object(xe.jsx)("div",{className:"container-fluid mt-3 h-100",children:Object(xe.jsxs)(pe.e,{children:[Object(xe.jsx)(pe.c,{exact:!0,path:"/",children:Object(xe.jsx)(pe.b,{to:"/login"})}),Object(xe.jsx)(pe.c,{path:"/logout",children:Object(xe.jsx)(ke,{authenticate:this.authenticate})}),Object(xe.jsx)(pe.c,{path:"/library",children:Object(xe.jsx)(at,{})}),Object(xe.jsx)(pe.c,{path:"/pack/:packName",children:Object(xe.jsx)(st,{})}),Object(xe.jsx)(pe.c,{exact:!0,path:"/register",children:Object(xe.jsx)(me,{})}),Object(xe.jsx)(pe.c,{exact:!0,path:"/register-contributor",children:Object(xe.jsx)(Lt,{})}),Object(xe.jsx)(pe.c,{path:"/login",children:Object(xe.jsx)(ge,{authenticate:this.authenticate,authenticated:t,loadingAuth:r})}),Object(xe.jsx)(pe.c,{path:"/account",children:Object(xe.jsx)(Be,{})}),Object(xe.jsx)(pe.c,{path:"/profile/:username",children:Object(xe.jsx)(It,{})}),Object(xe.jsx)(pe.c,{path:"/Dashboard",children:Object(xe.jsx)(He,{})}),Object(xe.jsx)(pe.c,{path:"/Contribute/entry/:entryId",children:t?Object(xe.jsx)(Qe,{}):Object(xe.jsx)(ot,{loadingAuth:r})}),Object(xe.jsx)(pe.c,{path:"/forgot_password",children:Object(xe.jsx)(ut,{})}),Object(xe.jsx)(pe.c,{path:"/reset_password/:token",children:Object(xe.jsx)(lt,{})}),Object(xe.jsx)(pe.c,{path:"/upgrade/",children:t?Object(xe.jsx)(Ct,{}):Object(xe.jsx)(ot,{loadingAuth:r})}),Object(xe.jsx)(pe.c,{path:"/Manage/:id",children:t?Object(xe.jsx)(jt,{}):Object(xe.jsx)(ot,{loadingAuth:r})}),Object(xe.jsx)(pe.c,{path:"/admin/tools",children:t?Object(xe.jsx)(yt,{}):Object(xe.jsx)(ot,{loadingAuth:r})}),Object(xe.jsx)(pe.c,{path:"/coins",children:Object(xe.jsx)(Nt,{})}),Object(xe.jsx)(pe.c,{render:function(){return Object(xe.jsx)(it,{})}})]})})]})}}]),r}(a.a.Component),Pt=Object(o.a)({},ue);var Et=function(){return Object(xe.jsx)(u.a,Object(o.a)(Object(o.a)({},Pt),{},{children:Object(xe.jsx)(i.a,{children:Object(xe.jsx)(Tt,{})})}))};s.a.render(Object(xe.jsx)(a.a.StrictMode,{children:Object(xe.jsx)(Et,{})}),document.getElementById("root"))},98:function(e,t,r){}},[[110,1,2]]]);
//# sourceMappingURL=main.18434a27.chunk.js.map