(this.webpackJsonpguild_app=this.webpackJsonpguild_app||[]).push([[0],{100:function(e,t,r){},143:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),c=r(31),s=r.n(c),o=r(45),i=r(16),u=r(10),l=r(3),d=r.n(l),p=r(4),j=r(11),h=r(12),b=r(6),f="https://api.royalsaltserver.com",x="https://sfguildsubmissions.s3.us-west-1.amazonaws.com/project_images/",m="https://sfguildsubmissions.s3.us-west-1.amazonaws.com/pack_images/",O="sfguildsubmissions",v=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ACCESS_ID:"AKIAU5VKS6UWG6O7OXEI",REACT_APP_ACCESS_KEY:"cBHKPLBT4rPkv+JKz6Tmn5CdzaP7Ib2raXL4jhhu",REACT_APP_BUCKET_NAME:"sfguildsubmissions",REACT_APP_REGION:"us-west-1"}).REACT_APP_DIR_NAME,"us-west-1"),k="AKIAU5VKS6UWG6O7OXEI",g="cBHKPLBT4rPkv+JKz6Tmn5CdzaP7Ib2raXL4jhhu",y=r(13),w=r.n(y),S=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/login"),data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"get",url:"".concat(f,"/api/verify_jwt"),headers:{"x-access-token":localStorage.getItem("token")}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"get",url:"".concat(f,"/api/get_user"),headers:{"x-access-token":localStorage.getItem("token")}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"get",url:"".concat(f,"/api/users"),headers:{"x-access-token":localStorage.getItem("token")}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/register"),data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/edit_user"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"get",url:"".concat(f,"/api/projects")});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/get_project"),headers:{"x-access-token":localStorage.getItem("token")},data:{project_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/add_project"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/edit_project"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/remove_project"),headers:{"x-access-token":localStorage.getItem("token")},data:{project_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/get_entry"),headers:{"x-access-token":localStorage.getItem("token")},data:{entry_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/add_entry"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/edit_entry"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/remove_entry"),headers:{"x-access-token":localStorage.getItem("token")},data:{entry_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/get_contribution"),headers:{"x-access-token":localStorage.getItem("token")},data:{contribution_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/add_contribution"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/edit_contribution"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/add_contributed_asset"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/edit_contributed_asset"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/signed_URL"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"get",url:"".concat(f,"/api/packs")});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/get_pack_by_title"),headers:{"x-access-token":localStorage.getItem("token")},data:{pack_title:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/add_pack"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/edit_pack"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/remove_pack"),headers:{"x-access-token":localStorage.getItem("token")},data:{pack_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/add_asset_type"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/edit_asset_type"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/remove_asset_type"),headers:{"x-access-token":localStorage.getItem("token")},data:{asset_type_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/request_reset_email"),data:{email:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(p.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/reset_password"),data:{password:t,token:r},validateStatus:function(e){return 200===e||400===e}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),re=function(){var e=Object(p.a)(d.a.mark((function e(t,r,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/get_track_assets/").concat(t),data:{offset:r,amount:n}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(p.a)(d.a.mark((function e(t,r,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/get_track_assets_by_username/").concat(t),data:{offset:r,amount:n}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/add_track_asset"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/edit_track_asset"),headers:{"x-access-token":localStorage.getItem("token")},data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"post",url:"".concat(f,"/api/remove_track_asset"),headers:{"x-access-token":localStorage.getItem("token")},data:{track_id:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){function e(){Object(j.a)(this,e),this.userInfo=null,this.usersList=null,this.userInfoLoading=!1,this.usersListLoading=!1,Object(b.m)(this,{userInfo:b.n,usersList:b.n,userInfoLoading:b.n,usersListLoading:b.n,getUserInfo:b.f,getUsersList:b.f})}return Object(h.a)(e,[{key:"getUserInfo",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.userInfoLoading=!0,e.prev=1,e.next=4,I();case 4:return 200===(t=e.sent).status&&(r=Object(b.p)(t.data),Object(b.o)((function(){n.userInfo=r,n.userInfoLoading=!1}))),e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),this.userInfoLoading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUsersList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.usersListLoading=!0,e.prev=1,e.next=4,_();case 4:return 200===(t=e.sent).status&&(r=Object(b.p)(t.data),Object(b.o)((function(){n.usersList=r,n.usersListLoading=!1}))),e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),this.usersListLoading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ie=function(){function e(){Object(j.a)(this,e),this.projects=null,this.projectInfo=null,this.projectsLoading=!1,this.projectInfoLoading=!1,Object(b.m)(this,{projects:b.n,projectInfo:b.n,projectsLoading:b.n,projectInfoLoading:b.n,getProjects:b.f,getProjectInfo:b.f})}return Object(h.a)(e,[{key:"getProjects",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.projectsLoading=!0,e.prev=1,e.next=4,L();case 4:return 200===(t=e.sent).status&&(r=Object(b.p)(t.data),Object(b.o)((function(){n.projects=r,n.projectsLoading=!1}))),e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),this.projectsLoading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getProjectInfo",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.projectInfoLoading=!0,e.prev=1,e.next=4,A(t);case 4:return 200===(r=e.sent).status&&(n=Object(b.p)(r.data),Object(b.o)((function(){a.projectInfo=n,a.projectInfoLoading=!1}))),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),this.projectInfoLoading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ue=function(){function e(){Object(j.a)(this,e),this.entryInfo=null,this.entryInfoLoading=!1,Object(b.m)(this,{entryInfo:b.n,getEntryInfo:b.f})}return Object(h.a)(e,[{key:"getEntryInfo",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.entryInfoLoading=!0,e.prev=1,e.next=4,z(t);case 4:return 200===(r=e.sent).status&&(n=Object(b.p)(r.data),Object(b.o)((function(){a.entryInfo=n,a.entryInfoLoading=!1}))),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),this.entryInfoLoading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),le=function(){function e(){Object(j.a)(this,e),this.packs=null,this.packInfo=null,this.packsLoading=!1,this.packInfoLoading=!1,Object(b.m)(this,{packs:b.n,packInfo:b.n,packsLoading:b.n,packInfoLoading:b.n,getPacks:b.f,getPackInfo:b.f})}return Object(h.a)(e,[{key:"getPacks",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,r,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.packsLoading=!0,e.prev=1,e.next=4,W();case 4:if(200!==(t=e.sent).status){e.next=11;break}return r=Object(b.p)(t.data),Object(b.o)((function(){n.packs=r,n.packsLoading=!1})),e.abrupt("return",t);case 11:throw new Error;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),this.packsLoading=!1;case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"getPackInfo",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.packInfoLoading=!0,e.prev=1,e.next=4,Y(t);case 4:if(200!==(r=e.sent).status){e.next=11;break}return n=Object(b.p)(r.data),Object(b.o)((function(){a.packInfo=n,a.packInfoLoading=!1})),e.abrupt("return",r);case 11:throw new Error;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),this.packInfoLoading=!1;case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),de=function(){function e(){Object(j.a)(this,e),this.contributionInfo=null,this.contributionInfoLoading=!1,Object(b.m)(this,{contributionInfo:b.n,getContributionInfo:b.f})}return Object(h.a)(e,[{key:"getContributionInfo",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.contributionInfoLoading=!0,e.prev=1,e.next=4,M(t);case 4:if(200!==(r=e.sent).status){e.next=11;break}return n=Object(b.p)(r.data),Object(b.o)((function(){a.contributionInfo=n,a.contributionInfoLoading=!1})),e.abrupt("return",r);case 11:throw new Error;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),this.contributionInfoLoading=!1;case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),pe={userStore:new oe,projectsStore:new ie,entryStore:new ue,packsStore:new le,contributionStore:new de},je=r(19),he=r(18),be=(r(100),r(20)),fe=r(9),xe=r(17),me=r(41),Oe=r(43),ve=r(1);function ke(e){var t=Object(n.useState)(""),r=Object(fe.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)(""),o=Object(fe.a)(s,2),u=o[0],l=o[1],j=Object(n.useState)(!1),h=Object(fe.a)(j,2),b=h[0],f=h[1],x=Object(n.useState)(!1),m=Object(fe.a)(x,2),O=m[0],v=m[1],k=Object(n.useState)(!1),g=Object(fe.a)(k,2),y=g[0],w=g[1],S=Object(n.useState)("warning"),C=Object(fe.a)(S,2),I=C[0],_=C[1],T=Object(n.useState)("Something went wrong, please try again later!"),L=Object(fe.a)(T,2),A=L[0],E=L[1],P=Object(be.h)();function D(){return(D=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=t.target.username.value.trim(),n=t.target.email.value.trim(),a=t.target.password.value.trim(),c=t.target.firstName.value.trim(),s=t.target.lastName.value.trim(),o={username:r,first_name:c,last_name:s,email:n,password:a},O||b){e.next=21;break}return e.prev=8,e.next=11,N(o);case 11:201===e.sent.status&&P.push("/login"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0.response),400===e.t0.response.status?(w(!0),_("warning"),E("Email or Username is already in use")):(w(!0),_("danger"),E("Something went wrong, please try again later!"));case 19:e.next=23;break;case 21:w(!0),E("Please Fix Errors Before You Register!");case 23:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){y&&setTimeout((function(){w(!1)}),5e3)})),Object(ve.jsxs)("div",{style:{width:"30vw"},children:[function(){if(y)return Object(ve.jsx)(Oe.a,{variant:I,children:A})}(),Object(ve.jsx)("h2",{className:"pb-3",children:"Register"}),Object(ve.jsxs)(xe.a,{onSubmit:function(e){return function(e){return D.apply(this,arguments)}(e)},children:[Object(ve.jsxs)(xe.a.Group,{controlId:"username",children:[Object(ve.jsx)(xe.a.Label,{children:"Username"}),Object(ve.jsx)(xe.a.Control,{required:!0,onChange:function(e){return function(e){e.target.value.length>=20?(f(!0),c("Too Long!")):f(!1)}(e)},size:"md",type:"text",placeholder:"Username"}),function(){if(!0===b)return Object(ve.jsx)(xe.a.Text,{style:{color:"red"},children:a})}(),Object(ve.jsx)(xe.a.Text,{id:"passwordHelpBlock",muted:!0,children:"Your username must be shorter than 20 characters."})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"firstName",children:[Object(ve.jsx)(xe.a.Label,{children:"First Name"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"text",placeholder:"Enter first name"}),Object(ve.jsx)(xe.a.Text,{className:"text-muted",children:"We'll never share your name with anyone else."})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"lastName",children:[Object(ve.jsx)(xe.a.Label,{children:"Last Name"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"text",placeholder:"Enter Last Name"}),Object(ve.jsx)(xe.a.Text,{className:"text-muted",children:"We'll never share your name with anyone else."})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"email",children:[Object(ve.jsx)(xe.a.Label,{children:"Email"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"email",placeholder:"Enter email"}),Object(ve.jsx)(xe.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"password",children:[Object(ve.jsx)(xe.a.Label,{children:"Password"}),Object(ve.jsx)(xe.a.Control,{required:!0,onChange:function(e){return function(e){var t=e.target.value;t.length>20?(v(!0),l("Too Long!")):t.length<8&&t.length>=1?(v(!0),l("Too Short!")):v(!1)}(e)},size:"md",type:"password",placeholder:"Password","aria-describedby":"passwordHelpBlock"}),function(){if(!0===O)return Object(ve.jsx)(xe.a.Text,{style:{color:"red"},children:u})}(),Object(ve.jsx)(xe.a.Text,{id:"passwordHelpBlock",muted:!0,children:"Your password must be 8-20 characters long."})]}),Object(ve.jsx)(me.a,{variant:"outline-success",type:"submit",children:"Sign Up"})]}),Object(ve.jsx)("br",{}),Object(ve.jsxs)("div",{className:"d-flex flex-column",children:[Object(ve.jsx)("small",{children:"Aready a Member?"}),Object(ve.jsx)(i.b,{to:"/login",children:"Log In!"})]})]})}var ge=r(145),ye=function(e){Object(je.a)(r,e);var t=Object(he.a)(r);function r(e){var n;return Object(j.a)(this,r),(n=t.call(this,e)).state={alert:!1,alertType:"warning",alertText:"Something went wrong, please try again."},n}return Object(h.a)(r,[{key:"componentDidUpdate",value:function(){var e=this;this.state.alert&&setTimeout((function(){e.setState({alert:!1})}),1e4),this.props.authenticated&&this.props.history.push("/account")}},{key:"renderAlert",value:function(){if(this.state.alert)return Object(ve.jsx)(Oe.a,{variant:this.state.alertType,children:this.state.alertText})}},{key:"handleSubmit",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.username_or_email.value.trim(),n=t.target.password.value.trim(),a={username_or_email:r,password:n},e.prev=4,e.next=7,S(a);case 7:200===(c=e.sent).status&&(s=c.data.token,localStorage.setItem("token","Bearer "+s),this.props.history.push("/account"),this.props.authenticate()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),e.t0.response&&400===e.t0.response.status?this.setState({alert:!0,alertText:"Invalid Username/Email or Password.",alertType:"warning"}):this.setState({alert:!0,alertText:"Something went wrong, please try again.",alertType:"danger"});case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderLogin",value:function(){var e=this,t=this.props,r=t.authenticated;return t.loadingAuth?Object(ve.jsx)(ge.a,{animation:"border",role:"status"}):r?Object(ve.jsxs)("div",{children:[Object(ve.jsx)("h2",{className:"pb-3 text-center",children:"Login"}),Object(ve.jsx)("p",{className:"text-center",children:" already logged in"})]}):Object(ve.jsxs)("div",{style:{width:"30vw"},children:[this.renderAlert(),Object(ve.jsx)("h2",{className:"pb-3",children:"Login"}),Object(ve.jsxs)("div",{children:[Object(ve.jsxs)(xe.a,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(ve.jsxs)(xe.a.Group,{controlId:"username_or_email",children:[Object(ve.jsx)(xe.a.Label,{children:"Username or Email"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"text",placeholder:"Username or Email"})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"password",children:[Object(ve.jsx)(xe.a.Label,{children:"Password"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"password",placeholder:"Password"}),Object(ve.jsx)(i.b,{to:"/forgot_password",children:Object(ve.jsx)("small",{children:"Forgot Password?"})})]}),Object(ve.jsx)(me.a,{variant:"outline-success",type:"submit",children:"Login"})]}),Object(ve.jsx)("br",{}),Object(ve.jsxs)("div",{className:"d-flex flex-column",children:[Object(ve.jsx)("small",{children:"Need an Account?"}),Object(ve.jsx)(i.b,{to:"/register",children:"Join Us!"})]})]})]})}},{key:"render",value:function(){return this.renderLogin()}}]),r}(n.Component),we=Object(be.j)(ye),Se=function(e){Object(je.a)(r,e);var t=Object(he.a)(r);function r(e){var n;return Object(j.a)(this,r),(n=t.call(this,e)).state={logoutMessage:""},n}return Object(h.a)(r,[{key:"componentDidMount",value:function(){localStorage.getItem("token")?(localStorage.removeItem("token"),this.props.history.push("/login"),this.props.authenticate()):this.setState({logoutMessage:"not logged in"})}},{key:"render",value:function(){return Object(ve.jsxs)("div",{children:[Object(ve.jsx)("h1",{children:"Logout"}),Object(ve.jsx)("p",{children:this.state.logoutMessage})]})}}]),r}(n.Component),Ce=Object(be.j)(Se),Ie=r(21),_e=r(72),Ne=r.n(_e),Te=r(30),Le=r(29),Ae=r(32),Ee=r.n(Ae);function Pe(e,t){return De.apply(this,arguments)}function De(){return De=Object(p.a)(d.a.mark((function e(t,r){var n,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={bucketName:O,dirName:t,region:v,accessKeyId:k,secretAccessKey:g},23e5,a=new Ee.a(n),c=[],s=[],e.next=7,Promise.all(r.map(function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>23e5)){e.next=5;break}t.failMessage="Size limit exceeded",s.push(t),e.next=16;break;case 5:return e.prev=5,e.next=8,a.uploadFile(t,t.name);case 8:204===(r=e.sent).status||200===r.status?(console.log("success",t.name),c.push(t)):(console.log("failed",t),s.push(t)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.log("failed",t),s.push(t);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.abrupt("return",{successList:c,failedList:s});case 8:case"end":return e.stop()}}),e)}))),De.apply(this,arguments)}function ze(e){var t=Object(n.useState)([]),r=Object(fe.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)([]),o=Object(fe.a)(s,2),i=o[0],u=o[1],l=Object(n.useState)(!1),j=Object(fe.a)(l,2),h=j[0],b=j[1];function f(){return(f=Object(p.a)(d.a.mark((function t(r){var n,s,o,l,p;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=Object.values(r.target.file.files),s=n.length,!e.calculateTotalAmountOfContributionAttempts){t.next=7;break}if(e.calculateTotalAmountOfContributionAttempts(s)){t.next=7;break}return t.abrupt("return");case 7:return b(!0),t.next=10,Pe(e.dirName,n);case 10:o=t.sent,b(!1),l=o.successList,p=o.failedList,c([].concat(Object(Le.a)(a),Object(Le.a)(l))),u([].concat(Object(Le.a)(i),Object(Le.a)(p)));case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){0===a.length||e.complete?window.onbeforeunload=void 0:window.onbeforeunload=function(){return!0}})),Object(ve.jsxs)("div",{children:[Object(ve.jsx)(be.a,{when:0!=a.length&&!e.complete,message:"If you leave without pressing Complete your uploads will be lost! Are you sure you want to navigate away?"}),Object(ve.jsx)("p",{children:"Upload SFX"}),Object(ve.jsxs)("div",{className:"p-1 rounded border border-dark",style:{height:"25vh",backgroundColor:"#fff",overflowY:"auto"},children:[0!==a.length?a.map((function(e){return Object(ve.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(ve.jsx)("p",{children:e.name}),Object(ve.jsx)("p",{style:{color:"green"},children:"\u2713"})]},e)})):Object(ve.jsx)("p",{style:{color:"grey"},children:"No Successful Uploads"}),0!==i.length?i.map((function(e){return Object(ve.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(ve.jsx)("p",{children:e.name}),Object(ve.jsx)("p",{style:{color:"red"},children:e.failMessage?e.failMessage:null}),Object(ve.jsx)("br",{}),Object(ve.jsx)("p",{style:{color:"red"},children:"Failed"})]},e)})):Object(ve.jsx)("p",{style:{color:"grey"},children:"No Failed Uploads"})]}),Object(ve.jsx)("br",{}),Object(ve.jsxs)(xe.a,{onSubmit:function(e){return function(e){return f.apply(this,arguments)}(e)},children:[Object(ve.jsxs)(xe.a.Group,{controlId:"file",children:[Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"file",multiple:!0,accept:"audio/wav"}),Object(ve.jsx)("p",{style:{color:"grey"},children:"* only accepts .wav files"})]}),h?Object(ve.jsx)(ge.a,{animation:"border",role:"status"}):Object(ve.jsx)(me.a,{variant:"outline-success",type:"submit",children:"Upload Files"})]}),Object(ve.jsx)("br",{}),Object(ve.jsx)("small",{style:{color:"red"},children:"* Do not navigate away without clicking complete, or your uploads will not register!"}),Object(ve.jsx)(me.a,{variant:"info",className:"w-100",disabled:0===a.length,onClick:function(){return e.handleComplete(a)},children:"Complete"})]})}function Be(e){var t=Object(n.useState)(!1),r=Object(fe.a)(t,2),a=r[0],c=r[1];function s(){return s=Object(p.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(r.map(function(){var t=Object(p.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("audio_file",r),n.append("name",r.name),n.append("author_id",e.authorId),t.prev=4,t.next=7,ae(n);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[4,9]])})));return function(e){return t.apply(this,arguments)}}()));case 2:c(!0),e.uploadTrackBoolean(!1);case 4:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}return Object(ve.jsx)("div",{className:"p-3 border rounded card-style admin-tools-item",children:Object(ve.jsx)(ze,{dirName:"tracks",complete:a,handleComplete:function(e){return function(e){return s.apply(this,arguments)}(e)}})})}var Ue=function(e){Object(je.a)(r,e);var t=Object(he.a)(r);function r(e){var n;return Object(j.a)(this,r),(n=t.call(this,e)).state={contributionsToggle:!1,uploadTrackBoolean:!1},n}return Object(h.a)(r,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.userStore.getUserInfo();case 2:this.props.projectsStore.getProjects();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleContributedAssetsClick",value:function(e){this.setState(Object(Ie.a)({},e,!this.state[e]))}},{key:"renderContributedAssets",value:function(e){return e.map((function(e){return Object(ve.jsx)("div",{className:"px-3",children:Object(ve.jsx)("p",{children:e.name})})}))}},{key:"renderContributions",value:function(e){var t=this;if(this.props.projectsStore.projectsLoading)return Object(ve.jsx)(ge.a,{animation:"border",role:"status"});if(!this.props.projectsStore.projects)return Object(ve.jsx)("p",{children:"Can't get projects..."});var r=this.props.projectsStore.projects;return e.slice().reverse().map((function(e){var n=Ne()(e.date_created).format("MMM Do YYYY"),a=r.filter((function(t){return t.id===e.project_id}));if(0===a.length)return Object(ve.jsx)("div",{className:"p-3 m-1 border rounded justify-content-center align-items-center card-style",style:{height:"10vh"},children:Object(ve.jsx)("p",{children:"Project removed... "})});var c=a[0],s=c.entries.filter((function(t){return t.id===e.entry_id}));if(0!==s.length){var o=s[0],i="contributedAsset".concat(e.id,"Toggle");return Object(ve.jsxs)("div",{children:[Object(ve.jsxs)("div",{className:"p-3 m-1 border rounded card-style",style:{backgroundColor:"white"},children:[Object(ve.jsxs)("p",{children:["Created: ",n]}),Object(ve.jsxs)("p",{children:["Project: ",c.title]}),Object(ve.jsxs)("p",{children:["Entry: ",o.title]}),Object(ve.jsxs)("p",{children:["Amount: ",e.amount]}),Object(ve.jsxs)("p",{children:["Status: ",e.status]}),Object(ve.jsxs)(me.a,{variant:"link",onClick:function(){return t.handleContributedAssetsClick(i)},children:["Assets: ",t.state[i]?"\u25bc":"\u25b2"]}),t.state[i]?t.renderContributedAssets(e.contributed_assets):null]}),Object(ve.jsx)("br",{})]})}}))}},{key:"renderLoadingOrAccount",value:function(){var e=this;if(this.props.userStore.userInfoLoading)return Object(ve.jsx)("div",{children:Object(ve.jsx)(ge.a,{animation:"border",role:"status"})});if(!this.props.userStore.userInfo)return Object(ve.jsx)("div",{children:Object(ve.jsx)("p",{children:"Can't find user data..."})});var t=this.props.userStore.userInfo;return Object(ve.jsxs)("div",{children:[Object(ve.jsx)("h4",{children:"Account Info"}),Object(ve.jsx)("hr",{}),Object(ve.jsxs)("div",{children:[Object(ve.jsxs)("div",{className:"d-flex flex-row align-items-baseline",children:[Object(ve.jsx)("h4",{children:t.username}),Object(ve.jsx)(me.a,{variant:"link",style:{fontSize:"12px"},as:i.b,to:"/profile/".concat(t.username),children:"View Profile"})]}),Object(ve.jsxs)("div",{className:"px-3",children:[Object(ve.jsxs)("p",{children:[t.first_name," ",t.last_name]}),Object(ve.jsx)("p",{children:t.email}),Object(ve.jsxs)("p",{children:["Approved asset count - ",t.approved_asset_count]}),Object(ve.jsxs)("p",{children:["Coins ",Object(ve.jsx)(Te.a,{style:{color:"orange",fontSize:"20px"}})," - ",t.coins]})]})]}),Object(ve.jsx)("h4",{children:"Upload to Library"}),Object(ve.jsx)("hr",{}),Object(ve.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-start",children:[Object(ve.jsx)(me.a,{className:"px-3 py-1",variant:"link",onClick:function(){return e.setState({uploadTrackBoolean:!e.state.uploadTrackBoolean})},children:this.state.uploadTrackBoolean?"- Upload New Track":"+ Upload New Track"}),this.state.uploadTrackBoolean?Object(ve.jsx)(Be,{authorId:t.id,uploadTrackBoolean:function(t){return e.setState({uploadTrackBoolean:t})}}):null]}),Object(ve.jsx)("br",{}),Object(ve.jsx)("h4",{children:"Contributions"}),Object(ve.jsx)("hr",{}),Object(ve.jsx)("div",{className:"d-flex flex-row flex-wrap",children:this.renderContributions(t.contributions)})]})}},{key:"render",value:function(){return Object(ve.jsx)("div",{children:this.renderLoadingOrAccount()})}}]),r}(n.Component),Ge=Object(u.b)("userStore","projectsStore")(Object(u.c)(Ue)),Me=r(146),Fe=r.p+"static/media/sfag.90990307.png",qe=function(e){Object(je.a)(r,e);var t=Object(he.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return Object(ve.jsx)("div",{className:"p-2 d-flex flex-column align-items-center",children:Object(ve.jsx)(Me.a,{children:Object(ve.jsx)("a",{href:"https://sfaudioguild.com",children:Object(ve.jsx)("img",{src:Fe,width:80,height:80})})})})}}]),r}(n.Component),Re=function(e){Object(je.a)(r,e);var t=Object(he.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"componentDidMount",value:function(){this.props.userStore.getUserInfo()}},{key:"renderAdminToolsLink",value:function(){var e=this.props,t=e.authenticated,r=e.userStore;if(r.userInfo&&r.userInfo.admin&&t)return Object(ve.jsx)(i.c,{className:"d-flex flex-row align-items-center nav-link",to:"/admin/tools",children:"Admin Tools"})}},{key:"renderBuyCoins",value:function(){var e=this.props,t=e.authenticated,r=e.userStore;if(r.userInfo&&t)return Object(ve.jsxs)(i.c,{className:"d-flex flex-row align-items-center nav-link",to:"/buy-coins",children:["Buy ",Object(ve.jsx)(Te.a,{className:"ml-1",style:{fontSize:"25px",color:"orange"}}),Object(ve.jsx)("p",{style:{fontSize:"10px",color:"green"},children:r.userInfo.coins})]})}},{key:"render",value:function(){var e=this.props.authenticated;return Object(ve.jsxs)("div",{className:"nav-button d-flex flex-column",children:[Object(ve.jsx)("hr",{className:"w-75 m-0 p-0 align-self-center"}),this.renderAdminToolsLink(),e&&Object(ve.jsx)(i.c,{className:"d-flex flex-row align-items-center nav-link",to:"/account",children:"Account"}),e&&Object(ve.jsx)(i.c,{className:"d-flex flex-row align-items-center nav-link",to:"/library",children:"Library"}),e&&Object(ve.jsx)(i.c,{className:"d-flex flex-row align-items-center nav-link",to:"/dashboard",children:"Contribute"}),e?Object(ve.jsx)(i.c,{className:"d-flex flex-row align-items-center nav-link",to:"/logout",children:"Logout"}):Object(ve.jsx)(i.c,{className:"d-flex flex-row align-items-center nav-link",to:"/login",children:"Login"})]})}}]),r}(n.Component),Ke=Object(u.b)("userStore")(Object(u.c)(Re)),Ve=r(147),We=Object(u.b)("userStore","projectsStore")(Object(u.c)((function(e){function t(t){if(e.userStore.usersListLoading)return Object(ve.jsx)(ge.a,{animation:"border",role:"status"});if(!e.userStore.usersList)return Object(ve.jsx)("p",{style:{color:"red"},children:"Can't get users!"});var r=e.userStore.usersList;return t.map((function(t){var n=r.filter((function(e){return e.id===t.user_id}))[0];return n?Object(ve.jsxs)("div",{className:"px-5 d-flex flex-row justify-content-between align-items-baseline flex-wrap",children:[Object(ve.jsxs)("p",{style:{color:"purple"},children:[n.username," - ",Object(ve.jsx)("b",{children:t.amount})]}),Object(ve.jsx)("p",{style:{color:"green"},children:t.status}),e.userStore.userInfo&&e.userStore.userInfo.admin?Object(ve.jsx)(me.a,{as:i.b,variant:"outline-secondary",to:"/Manage/".concat(t.id),children:"Manage"}):null]},t.id):Object(ve.jsx)("p",{children:"Can't find contributing user..."})}))}return Object(n.useEffect)(Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.projectsStore.getProjects();case 2:e.userStore.getUsersList(),e.userStore.getUserInfo();case 4:case"end":return t.stop()}}),t)}))),[]),Object(ve.jsxs)("div",{style:{width:"60vw"},children:[Object(ve.jsx)("h3",{children:"Available Projects"}),Object(ve.jsx)("hr",{}),e.projectsStore.projectsLoading?Object(ve.jsx)(ge.a,{animation:"border",role:"status"}):e.projectsStore.projects?e.projectsStore.projects.map((function(e){if(e.active&&!e.complete)return Object(ve.jsxs)("div",{className:"p-3 mb-5 card-style border rounded",style:{backgroundColor:"white",fontFamily:"Noto Sans"},children:[Object(ve.jsxs)("div",{className:"d-flex flex-row align-items-baseline flex-wrap",children:[Object(ve.jsx)(Ve.a,{className:"small-img pr-3",src:"".concat(x).concat(e.image_file),rounded:!0}),Object(ve.jsx)("h5",{children:Object(ve.jsx)("b",{children:e.title})}),Object(ve.jsx)("p",{className:"pl-3",style:{color:"purple"},children:e.complete?"Completed":"In-Progress"})]}),Object(ve.jsx)("hr",{style:{marginTop:"-15px"}}),Object(ve.jsxs)("div",{className:"py-3",children:[Object(ve.jsx)("p",{className:"px-3",children:Object(ve.jsx)("u",{children:"About"})}),Object(ve.jsxs)("p",{className:"px-3",children:[' "',e.description,'"']})]}),(r=e.entries,r.map((function(e){return Object(ve.jsx)("div",{className:"p-3 flex-row border rounded my-3",children:Object(ve.jsxs)("div",{className:"flex-column",children:[Object(ve.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-baseline flex-wrap",children:[Object(ve.jsx)("p",{children:Object(ve.jsx)("b",{children:"".concat(e.title)})}),Object(ve.jsxs)("p",{children:["How many: ",Object(ve.jsx)("b",{children:e.amount})]}),e.complete?Object(ve.jsx)("p",{style:{color:"green"},children:"Complete"}):Object(ve.jsx)(me.a,{as:i.b,variant:"outline-success",to:"/Contribute/entry/".concat(e.id),children:"Contribute"})]}),Object(ve.jsxs)("p",{className:"px-1",children:['"',e.description,'"']}),Object(ve.jsx)("p",{className:"px-3",children:Object(ve.jsx)("u",{children:"Contributions"})}),t(e.contributions)]})},e.id)})))]},e.id);var r})).reverse():Object(ve.jsx)("p",{children:"Can't Load Projects..."})]})}))),Ye=Object(u.b)("entryStore","userStore","projectsStore")(Object(u.c)((function(e){var t=Object(n.useState)(!1),r=Object(fe.a)(t,2),a=r[0],c=r[1],s=Object(be.h)(),o=Object(be.i)();function i(){return i=Object(p.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:if(!(r=e.sent)){e.next=9;break}return n=r.data.id,e.next=7,Promise.all(t.map(function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={contribution_id:n,name:t.name},e.next=4,R(r);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 7:c(!0),s.push("/dashboard");case 9:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return(l=Object(p.a)(d.a.mark((function t(r){var n,a,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.entryStore.entryInfo,a=r.length,c={entry_id:n.id,project_id:n.project_id,amount:a},t.prev=3,t.next=6,F(c);case 6:if(201!==(s=t.sent).status){t.next=11;break}return t.abrupt("return",s);case 11:return t.abrupt("return",!1);case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(3),t.abrupt("return",!1);case 17:case"end":return t.stop()}}),t,null,[[3,14]])})))).apply(this,arguments)}function j(e){return h.apply(this,arguments)}function h(){return(h=Object(p.a)(d.a.mark((function t(r){var n,a,c,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.entryStore.entryInfo,a=e.userStore.userInfo,c=a.contributions,o=0,c.forEach((function(e){e.entry_id===n.id&&(o+=e.amount)})),!((i=r+o)<=n.amount)){t.next=10;break}return t.abrupt("return",i);case 10:return window.alert("You have reached or exceeded the maximum limit of ".concat(n.amount," contributions for this entry.")),s.push("/dashboard"),t.abrupt("return",null);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)(Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.entryStore.getEntryInfo(o.entryId);case 2:e.projectsStore.getProjectInfo(e.entryStore.entryInfo.project_id),e.userStore.getUserInfo();case 4:case"end":return t.stop()}}),t)}))),[]),Object(ve.jsx)("div",{style:{width:"50vw"},children:function(){if(e.entryStore.entryInfoLoading)return Object(ve.jsx)(ge.a,{animation:"border",role:"status"});if(!e.entryStore.entryInfo||!e.projectsStore.projectInfo||!e.userStore.userInfo)return Object(ve.jsx)("p",{children:"Can't Load Info"});var t=e.entryStore.entryInfo,r=e.projectsStore.projectInfo,n=e.userStore.userInfo,c="submissions/".concat(r.title,"/").concat(t.title,"/").concat(n.first_name,"_").concat(n.last_name);return Object(ve.jsxs)("div",{children:[Object(ve.jsx)("h2",{children:t.title}),Object(ve.jsx)("p",{children:t.description}),Object(ve.jsx)("hr",{}),Object(ve.jsx)(ze,{dirName:c,complete:a,handleComplete:function(e){return function(e){return i.apply(this,arguments)}(e)},calculateTotalAmountOfContributionAttempts:j})]})}()})}))),He=Ye;function Je(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(p.a)(d.a.mark((function e(t){var r,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={bucket_name:O,object_name:t},e.prev=2,e.next=5,V(r);case 5:if(200!==(n=e.sent).status){e.next=9;break}return a=n.data,e.abrupt("return",a);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),alert("Something went wrong, please try again.");case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}var Xe=r(42),Ze=r(73),$e=r.n(Ze),et=Object(u.b)("userStore")(Object(u.c)((function(e){var t=Object(n.useState)(!1),r=Object(fe.a)(t,2),a=r[0],c=r[1],s=10,o=Object(be.h)();function u(){return u=Object(p.a)(d.a.mark((function t(r){var n,a,c,o,i,u,l,p,j;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.tracksURLs,a=e.userStore,c=n.filter((function(e){return e.name===r.name}))[0],o=-Math.abs(s),s,i=r.downloads+1,u={user_id:a.userInfo.id,coins:o},l={user_id:r.author_id,coins:10},p={track_id:r.id,downloads:i},(j=document.createElement("a")).href=c.url,j.download=c.name,j.target="_blank",j.click(),!e.userStore.userInfo||r.author_id==e.userStore.userInfo.id){t.next=27;break}return t.prev=14,t.next=17,T(u);case 17:return e.userStore.getUserInfo(),t.next=20,T(l);case 20:return t.next=22,ce(p);case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(14),console.log(t.t0);case 27:case"end":return t.stop()}}),t,null,[[14,24]])}))),u.apply(this,arguments)}function l(){return l=Object(p.a)(d.a.mark((function e(t,r){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.tag.value,c(!1),a={track_id:r.id,add_tag:n},e.prev=4,e.next=7,ce(a);case 7:o.go(0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,10]])}))),l.apply(this,arguments)}function j(){return j=Object(p.a)(d.a.mark((function e(t,r,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={track_id:r.id,remove_tag:n},e.prev=2,e.next=5,ce(a);case 5:o.go(0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])}))),j.apply(this,arguments)}function h(){return h=Object(p.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,se(r.id);case 4:o.go(0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),h.apply(this,arguments)}function b(t,r){return e.userStore.userInfo&&t.author_id===e.userStore.userInfo.id?Object(ve.jsxs)("div",{className:"d-flex flex-row flex-wrap",children:[Object(ve.jsxs)(me.a,{variant:"link",className:"p-0 ml-2",onClick:function(){return x(r)},children:["#",r]}),Object(ve.jsx)(me.a,{variant:"link",className:"p-0 align-self-start",style:{color:"red",fontSize:"13px"},onClick:function(e){return function(e,t,r){return j.apply(this,arguments)}(e,t,r)},children:"\u2715"})]}):Object(ve.jsxs)(me.a,{variant:"link",onClick:function(){return x(r)},children:["#",r]})}Object(n.useEffect)((function(){e.userStore.getUserInfo()}),[]);var f=e.track,x=e.setQuery;return Object(ve.jsxs)("div",{className:"mb-1 py-2 px-2 d-flex flex-row flex-wrap justify-content-between align-items-center border rounded",style:{backgroundColor:"white"},children:[Object(ve.jsxs)("div",{className:"d-flex flex-row flex-wrap ml-2 align-items-center",children:[Object(ve.jsxs)("div",{className:"d-flex flex-row flex-wrap align-items-baseline",style:{width:"350px"},children:[Object(ve.jsx)("p",{style:{fontSize:"20px",margin:0,padding:0},children:f.name}),Object(ve.jsx)(me.a,{as:i.b,variant:"link",to:"/profile/".concat(f.author_username),children:f.author_username})]}),Object(ve.jsxs)("div",{className:"waveform-div d-flex flex-row border rounded px-1",style:{width:"300px",paddingTop:"6px",backgroundColor:"#fdf0ff"},children:[Object(ve.jsx)("div",{className:"waveform",style:{width:"250px"},children:Object(ve.jsx)($e.a,{barWidth:1,peaks:f.waveform,height:40,duration:f.length,onClick:function(){return function(t){var r=e.tracksURLs.filter((function(e){return e.name===t}))[0].url;new Audio(r).play()}(f.name)},progressColor:"darkblue"})}),Object(ve.jsxs)("p",{className:"align-self-end ml-2",style:{fontSize:"12px"},children:[f.length," s"]})]})]}),Object(ve.jsxs)("div",{className:"d-flex flex-row flex-wrap align-items-center",children:[Object(ve.jsxs)("div",{className:"d-flex flex-row align-items-baseline",children:[f.audio_metadata&&0!==f.audio_metadata.length?f.audio_metadata.map((function(e){return b(f,e)})):"No Tags",function(t){if(e.userStore.userInfo&&t.author_id===e.userStore.userInfo.id&&t.audio_metadata.length<5)return a?Object(ve.jsx)(xe.a,{className:"form-inline",onSubmit:function(e){return function(e,t){return l.apply(this,arguments)}(e,t)},children:Object(ve.jsx)(xe.a.Group,{controlId:"tag",children:Object(ve.jsx)(xe.a.Control,{style:{width:"100px"},size:"sm",type:"text",placeholder:"Tag"})})}):Object(ve.jsx)(me.a,{variant:"link",onClick:function(){return c(!0)},children:"+ Tag"})}(f)]}),Object(ve.jsxs)("div",{className:"d-flex flex-row align-items-baseline p-0 ml-3",children:[e.userStore.userInfo&&f.author_id===e.userStore.userInfo.id?null:Object(ve.jsx)(Te.a,{className:"align-self-center",style:{fontSize:"20px",color:"orange",paddingRight:0}}),e.userStore.userInfo&&f.author_id===e.userStore.userInfo.id?null:Object(ve.jsx)("p",{style:{fontSize:"15px",color:"green"},children:s}),e.userStore.userInfo&&e.userStore.userInfo.coins>=s?Object(ve.jsxs)("div",{className:"d-flex flex-row",children:[Object(ve.jsx)(me.a,{variant:"link-secondary",style:{fontSize:"20px",paddingRight:0,paddingTop:0},onClick:function(){return function(e){return u.apply(this,arguments)}(f)},children:Object(ve.jsx)(Xe.a,{})}),Object(ve.jsx)("p",{style:{fontSize:"12px",color:"purple"},children:f.downloads})]}):null,function(t){if(e.userStore.userInfo&&t.author_id===e.userStore.userInfo.id)return Object(ve.jsx)(me.a,{variant:"link",className:"p-0 align-self-center",style:{color:"red",fontSize:"25px",marginLeft:"30px"},onClick:function(e){return function(e,t){return h.apply(this,arguments)}(e,t)},children:"\u2715"})}(f)]})]})]})}))),tt=et;function rt(e){return Object(ve.jsx)("div",{children:Object(ve.jsx)(xe.a,{className:"form-inline",onSubmit:function(t){return function(t){t.preventDefault(),e.setQuery(t.target.formSearch.value.toLowerCase())}(t)},children:Object(ve.jsx)(xe.a.Group,{controlId:"formSearch",children:Object(ve.jsx)(xe.a.Control,{size:"sm",type:"search",placeholder:"Search"})})})})}var nt=Object(u.b)("packsStore")(Object(u.c)((function(e){var t=Object(be.h)(),r=Object(n.useState)("packs"),a=Object(fe.a)(r,2),c=a[0],s=a[1],o=Object(n.useState)([]),i=Object(fe.a)(o,2),u=i[0],l=i[1],j=Object(n.useState)([]),h=Object(fe.a)(j,2),b=h[0],f=h[1],x=Object(n.useState)(""),O=Object(fe.a)(x,2),v=O[0],k=O[1],g=Object(n.useState)([]),y=Object(fe.a)(g,2),w=y[0],S=y[1],C=Object(n.useState)(0),I=Object(fe.a)(C,2),_=I[0],N=I[1],T=Object(n.useState)(0),L=Object(fe.a)(T,2),A=L[0],E=L[1];function P(){var r=e.packsStore,n=r.packs;return r.packsLoading?Object(ve.jsx)(ge.a,{animation:"border",role:"status"}):n?n.map((function(e){var r=e.title.replaceAll(" ","-").toLowerCase();if(e.active)return Object(ve.jsxs)("div",{className:"img-div p-3",children:[Object(ve.jsx)(Ve.a,{className:"pack-img",src:"".concat(m).concat(e.image_file)}),Object(ve.jsx)("button",{className:"di-btn",onClick:function(){return t.push("/pack/".concat(r))},children:"Info"})]},e.id)})):Object(ve.jsx)("p",{children:"Can't get packs!"})}function D(e){return z.apply(this,arguments)}function z(){return z=Object(p.a)(d.a.mark((function e(t){var r,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getMore,s("tracks"),f(!0),e.prev=3,e.next=6,re(v,_,20);case 6:if(200!==(n=e.sent).status){e.next=15;break}return a=[],e.next=11,Promise.all(n.data.tracks.map(function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n="tracks/".concat(r),e.next=4,Je(n);case 4:c=e.sent,a.push({name:r,url:c});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:r?(S([].concat(Object(Le.a)(w),a)),l([].concat(Object(Le.a)(u),Object(Le.a)(n.data.tracks))),f(!1)):(S(a),l(n.data.tracks),f(!1)),E(n.data.track_count),e.next=16;break;case 15:throw new Error;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),f(!1),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[3,18]])}))),z.apply(this,arguments)}return Object(n.useEffect)((function(){e.packsStore.getPacks()}),[]),Object(n.useEffect)((function(){D({getMore:!0})}),[_]),Object(n.useEffect)((function(){D({getMore:!1})}),[v]),Object(ve.jsxs)("div",{children:[Object(ve.jsxs)("div",{className:"border rounded mt-2 d-flex flex-row px-2 py-1",style:{backgroundColor:"#ebebeb",width:"100%"},children:[Object(ve.jsxs)("div",{className:"d-flex flex-row align-items-center mr-5",children:[Object(ve.jsx)("h5",{className:"mt-1 mr-5",children:"Library"}),Object(ve.jsx)(rt,{setQuery:function(e){return k(e)}})]}),Object(ve.jsxs)("div",{children:[Object(ve.jsx)(me.a,{variant:"link",onClick:function(){return s("packs")},children:"Packs"}),Object(ve.jsx)(me.a,{variant:"link",onClick:function(){return D({getMore:!1})},children:"Tracks"})]})]}),"packs"===c?Object(ve.jsxs)("div",{children:[Object(ve.jsx)("h4",{className:"pt-3",children:"Packs"}),Object(ve.jsx)("hr",{}),Object(ve.jsx)("div",{className:"d-flex flex-row",children:P()})]}):Object(ve.jsxs)("div",{children:[Object(ve.jsx)("h4",{className:"pt-3",children:"Tracks"}),Object(ve.jsx)("hr",{}),b?Object(ve.jsx)(ge.a,{animation:"border",role:"status"}):b||0!==u.length?0!==u.length?u.map((function(e){if(!0===e.active)return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)(tt,{tracksURLs:w,track:e,setQuery:function(e){return k(e)}})})})):void 0:Object(ve.jsx)("p",{children:"Can't find any tracks"}),u.length!==A?Object(ve.jsx)(me.a,{variant:"link",onClick:function(){N(_+20)},children:"Get More Tracks"}):null]})]})}))),at=nt,ct=Object(u.b)("packsStore","userStore")(Object(u.c)((function(e){var t=Object(be.i)(),r=Object(n.useState)(null),a=Object(fe.a)(r,2),c=a[0],s=a[1];function o(){return i.apply(this,arguments)}function i(){return(i=Object(p.a)(d.a.mark((function r(){var n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.packName,r.next=3,e.packsStore.getPackInfo(n);case 3:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function u(){return(u=Object(p.a)(d.a.mark((function t(r){var n,a,c,s,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userStore.userInfo,a=-Math.abs(r.coin_cost),c=r.downloads+1,s={user_id:n.id,coins:a},o={pack_id:r.id,downloads:c},t.prev=5,t.next=8,T(s);case 8:return t.next=10,J(o);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[5,12]])})))).apply(this,arguments)}function l(){return j.apply(this,arguments)}function j(){return(j=Object(p.a)(d.a.mark((function e(){var r,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.packName,n="packs/".concat(r,"/").concat(r,".zip"),e.prev=2,e.next=5,Je(n);case 5:if(!(a=e.sent)){e.next=11;break}return s(a),e.abrupt("return",!0);case 11:throw new Error("Could not get download link");case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function h(){if(e.userStore.userInfoLoading)return Object(ve.jsx)(ge.a,{animation:"border",role:"status"});if(!e.userStore.userInfo)return null;var t=e.packsStore.packInfo;return Object(ve.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(ve.jsxs)("h4",{children:[t.coin_cost," ",Object(ve.jsx)(Te.a,{className:"align-self-center",style:{fontSize:"25px",color:"orange"}})]}),Object(ve.jsx)(me.a,{onClick:function(){return function(e){return u.apply(this,arguments)}(t)},disabled:e.userStore.userInfo.coins<t.coin_cost||!c,children:Object(ve.jsx)("a",{style:{color:"white",textDecoration:"none"},href:c,children:"Download"})})]})}function b(e){if(e){var t=e.map((function(e){return Object(ve.jsx)("li",{className:"px-3",children:e.description},e.id)}));return Object(ve.jsx)("ul",{children:t})}}return Object(n.useEffect)(Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:return t.next=4,e.userStore.getUserInfo();case 4:l();case 5:case"end":return t.stop()}}),t)}))),[]),Object(ve.jsx)("div",{children:function(){if(e.packsStore.packInfoLoading)return Object(ve.jsx)(ge.a,{animation:"border",role:"status"});if(!e.packsStore.packInfo)return Object(ve.jsx)("p",{children:"Can't get pack details"});var t=e.packsStore.packInfo,r=t.title.replaceAll("-"," ").toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ");return Object(ve.jsxs)("div",{className:"d-flex flex-row align-items-center justify-content-center",children:[Object(ve.jsxs)("div",{className:"d-flex flex-column",children:[Object(ve.jsx)(Ve.a,{className:"pack-img mr-3 mb-5",src:"".concat(m).concat(t.image_file)}),Object(ve.jsx)("h3",{className:"text-center",children:"Audio Demo"}),Object(ve.jsx)("iframe",{className:"video",src:t.video_file,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]}),Object(ve.jsxs)("div",{className:"w-50",children:[Object(ve.jsx)("h1",{children:r}),Object(ve.jsxs)("div",{className:"px-3",children:[Object(ve.jsxs)("p",{children:['"',t.description,'"']}),Object(ve.jsx)("p",{children:"Asset Types:"}),b(t.asset_types)]}),Object(ve.jsx)("div",{className:"my-5 d-flex flex-column justify-content-center align-items-center",children:h()})]})]})}()})}))),st=ct,ot=function(e){Object(je.a)(r,e);var t=Object(he.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return this.props.loadingAuth?Object(ve.jsx)(ge.a,{animation:"border",role:"status"}):Object(ve.jsx)("div",{children:Object(ve.jsx)("h1",{children:"Access Denied"})})}}]),r}(n.Component),it=function(e){Object(je.a)(r,e);var t=Object(he.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return Object(ve.jsx)("div",{className:"w-50 d-flex flex-column justify-content-center",children:Object(ve.jsx)("h1",{children:"No Match"})})}}]),r}(n.Component),ut=(r(142),function(e){Object(je.a)(r,e);var t=Object(he.a)(r);function r(){var e;return Object(j.a)(this,r),(e=t.call(this)).state={alert:!1,alertType:"warning",alertText:"Something went wrong, please try again."},e}return Object(h.a)(r,[{key:"componentDidUpdate",value:function(){var e=this;this.state.alert&&setTimeout((function(){e.setState({alert:!1})}),1e4)}},{key:"renderAlert",value:function(){if(this.state.alert)return Object(ve.jsx)(Oe.a,{variant:this.state.alertType,children:this.state.alertText})}},{key:"handleSubmit",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.email.value.trim(),e.prev=2,e.next=5,ee(r);case 5:200===e.sent.status&&this.setState({alert:!0,alertText:"Sent! Please check your email for instruction.",alertType:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&400===e.t0.response.status?this.setState({alert:!0,alertText:"No user found with this email.",alertType:"warning"}):this.setState({alert:!0,alertText:"Something went wrong, please try again.",alertType:"danger"});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(ve.jsxs)("div",{style:{width:"30vw"},children:[this.renderAlert(),Object(ve.jsx)("h2",{className:"pb-3",children:"Forgot Password"}),Object(ve.jsxs)(xe.a,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(ve.jsxs)(xe.a.Group,{controlId:"email",children:[Object(ve.jsx)(xe.a.Label,{children:"Enter your email to receive password reset link"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"text",placeholder:"Email"})]}),Object(ve.jsx)(me.a,{variant:"outline-success",type:"submit",children:"Submit"})]})]})}}]),r}(n.Component));function lt(){var e=Object(n.useState)(!1),t=Object(fe.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)("Something went wrong, please try again later!"),s=Object(fe.a)(c,2),o=s[0],i=s[1],u=Object(n.useState)("warning"),l=Object(fe.a)(u,2),j=l[0],h=l[1],b=Object(be.i)().token;function f(){return(f=Object(p.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.password.value,e.prev=2,e.next=5,te(r,b);case 5:200===e.sent.status?(a(!0),h("success"),i("Password Has Been Reset!")):(a(!0),h("warning"),i("Your request has expired or is invalid.")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),a(!0),h("danger"),i("Something Went Wrong, Please Try Again Later.");case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){r&&setTimeout((function(){a(!1)}),1e4)})),Object(ve.jsxs)("div",{style:{width:"30vw"},children:[function(){if(r)return Object(ve.jsx)(Oe.a,{variant:j,children:o})}(),Object(ve.jsx)("h2",{className:"pb-3",children:"Reset Password"}),Object(ve.jsxs)(xe.a,{onSubmit:function(e){return function(e){return f.apply(this,arguments)}(e)},children:[Object(ve.jsxs)(xe.a.Group,{controlId:"password",children:[Object(ve.jsx)(xe.a.Label,{children:"Enter your new password"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"password",placeholder:"New Password"})]}),Object(ve.jsx)(me.a,{variant:"outline-success",type:"submit",children:"Reset"})]})]})}var dt=r(74),pt=Object(u.b)("contributionStore","projectsStore","entryStore","userStore")(Object(u.c)((function(e){var t=Object(be.i)(),r=Object(be.h)(),a=Object(n.useState)([]),c=Object(fe.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)(0),u=Object(fe.a)(i,2),l=u[0],j=u[1],h=Object(n.useState)(0),b=Object(fe.a)(h,2),f=b[0],x=b[1];function m(){return O.apply(this,arguments)}function O(){return O=Object(p.a)(d.a.mark((function r(){var n,a,c,s,i,u,l,j,h,b;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.id,r.next=3,e.contributionStore.getContributionInfo(n);case 3:return a=r.sent,r.next=6,e.projectsStore.getProjectInfo(a.data.project_id);case 6:return c=r.sent,s=c.data.title,r.next=10,e.entryStore.getEntryInfo(a.data.entry_id);case 10:return i=r.sent,u=i.data.title,r.next=14,e.userStore.getUserInfo(a.data.user_id);case 14:return l=r.sent,j="".concat(l.data.first_name,"_").concat(l.data.last_name),h=[],b=a.data.contributed_assets,r.next=20,Promise.all(b.map(function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n="submissions/".concat(s,"/").concat(u,"/").concat(j,"/").concat(r),e.next=4,Je(n);case 4:a=e.sent,h.push({name:r,url:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 20:o(h);case 21:case"end":return r.stop()}}),r)}))),O.apply(this,arguments)}function v(){!function(){var t={contribution_id:e.contributionStore.contributionInfo.id,status:"accepted"};try{q(t)}catch(r){console.log(r),alert("Failed to update entry status")}}(),function(){k.apply(this,arguments)}()}function k(){return k=Object(p.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.contributionStore.contributionInfo,a={user_id:n.user_id,coins:l,approved_asset_count:f},t.prev=2,t.next=5,T(a);case 5:200===t.sent.status&&r.push("/dashboard"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),alert("Failed to send coins");case 13:case"end":return t.stop()}}),t,null,[[2,9]])}))),k.apply(this,arguments)}function g(e,t){return y.apply(this,arguments)}function y(){return y=Object(p.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={contributed_asset_id:t,status:r},e.prev=1,e.next=4,K(n);case 4:if(200!==e.sent.status){e.next=10;break}m(),"approved"===r&&(j(l+10),x(f+1)),e.next=11;break;case 10:throw new Error;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])}))),y.apply(this,arguments)}function w(e){var t=e.status;return t&&"pending"!==t?"approved"===t?Object(ve.jsx)("p",{className:"mr-3",style:{color:"green",margin:0},children:"approved"}):Object(ve.jsx)("p",{className:"mr-3",style:{color:"gray",margin:0},children:t}):Object(ve.jsxs)("div",{children:[Object(ve.jsx)(me.a,{className:"mr-3",variant:"outline-success",onClick:function(){return g(e.id,"approved")},children:"Approve"}),Object(ve.jsx)(me.a,{className:"mr-3",variant:"outline-danger",onClick:function(){return g(e.id,"rejected")},children:"Reject"})]})}return Object(n.useEffect)((function(){m()}),[]),Object(ve.jsxs)("div",{style:{width:"60vw"},children:[Object(ve.jsx)("h2",{className:"pb-3",children:"Asset Management"}),e.contributionStore.contributionInfo?e.contributionStore.contributionInfo.contributed_assets.slice().sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return Object(ve.jsxs)("div",{className:"py-2 px-2 d-flex flex-row justify-content-between align-items-baseline border rounded",style:{backgroundColor:"white"},children:[Object(ve.jsxs)(me.a,{variant:"link",onClick:function(){return function(e){var t=s.filter((function(t){return t.name===e}))[0].url;new Audio(t).play()}(e.name)},children:[e.name," ",Object(ve.jsx)(dt.a,{})]}),Object(ve.jsxs)("div",{className:"d-flex flex-row align-items-baseline",children:[w(e),Object(ve.jsx)(me.a,{variant:"link-secondary",style:{fontSize:"20px"},onClick:function(){return function(e){var t=s.filter((function(t){return t.name===e}))[0],r=document.createElement("a");r.href=t.url,r.download=t.name,r.click()}(e.name)},children:Object(ve.jsx)(Xe.a,{})})]})]})})):Object(ve.jsx)("p",{children:"Can't get contributed assets"}),Object(ve.jsx)("br",{}),Object(ve.jsxs)(me.a,{variant:"outline-info",disabled:0===l,onClick:function(){return v()},children:["Send ",l," Coins"]})]})}))),jt=pt,ht=function(e){Object(je.a)(r,e);var t=Object(he.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"uploadImageFile",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={bucketName:O,dirName:"project_images",region:v,accessKeyId:k,secretAccessKey:g},n=new Ee.a(r),e.prev=2,e.next=5,n.uploadFile(t,t.name);case 5:a=e.sent,console.log(a),204===a.status&&console.log("succesful upload to aws"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("failed to upload image to amazon",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmitProject",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.projectTitle.value,n=t.target.projectDescription.value,a=t.target.projectImage.files[0].name,c=t.target.projectImage.files[0],s={title:r,description:n,image_file:a},e.prev=6,e.next=9,E(s);case 9:201===(o=e.sent).status&&(console.log(o),this.props.projectsStore.getProjects(),this.props.createProjectBoolean(!1),this.uploadImageFile(c)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(ve.jsx)("div",{className:"p-3 border rounded card-style admin-tools-item",children:Object(ve.jsxs)(xe.a,{onSubmit:function(t){return e.handleSubmitProject(t)},children:[Object(ve.jsxs)(xe.a.Group,{controlId:"projectTitle",children:[Object(ve.jsx)(xe.a.Label,{children:"Title"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"text",placeholder:"Project Title"})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"projectImage",children:[Object(ve.jsx)(xe.a.Label,{children:"Image"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"file",accept:"image/*"})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"projectDescription",children:[Object(ve.jsx)(xe.a.Label,{children:"Description"}),Object(ve.jsx)(xe.a.Control,{as:"textarea",required:!0,size:"md",type:"text",placeholder:"Project Description"})]}),Object(ve.jsx)(me.a,{variant:"outline-success",type:"submit",children:"Create Project"})]})})}}]),r}(n.Component),bt=Object(u.b)("projectsStore")(Object(u.c)(ht)),ft=function(e){Object(je.a)(r,e);var t=Object(he.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"handleSubmitEntry",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=this.props.projectId,n=t.target.entryAmount.value,a=t.target.entryTitle.value,c=t.target.entryDescription.value,s={project_id:r,amount:n,title:a,description:c},e.prev=6,e.next=9,B(s);case 9:201===e.sent.status&&(this.props.projectsStore.getProjects(),this.props.createEntryBoolean(!1)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(ve.jsx)("div",{className:"p-3 card-style border rounded",children:Object(ve.jsxs)(xe.a,{onSubmit:function(t){return e.handleSubmitEntry(t)},children:[Object(ve.jsxs)(xe.a.Group,{controlId:"entryAmount",children:[Object(ve.jsx)(xe.a.Label,{children:"Amount"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"number",placeholder:"Entry Amount"})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"entryTitle",children:[Object(ve.jsx)(xe.a.Label,{children:"Title"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"text",placeholder:"Entry Title"})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"entryDescription",children:[Object(ve.jsx)(xe.a.Label,{children:"Description"}),Object(ve.jsx)(xe.a.Control,{as:"textarea",required:!0,size:"md",type:"text",placeholder:"Entry Description"})]}),Object(ve.jsx)(me.a,{variant:"outline-success",type:"submit",children:"Create Entry"})]})})}}]),r}(n.Component),xt=Object(u.b)("projectsStore")(Object(u.c)(ft)),mt=function(e){Object(je.a)(r,e);var t=Object(he.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"uploadFile",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,n){var a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={bucketName:O,dirName:r,region:v,accessKeyId:k,secretAccessKey:g},c=new Ee.a(a),e.prev=2,e.next=5,c.uploadFile(t,n);case 5:s=e.sent,console.log(s),204===s.status&&console.log("succesful upload to aws"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("failed to upload image to amazon",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"handleSubmitPack",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a,c,s,o,i,u,l,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.packTitle.value.trim(),n=t.target.packDescription.value.trim(),a=t.target.packImage.files[0].name,c=t.target.packImage.files[0],s=t.target.packVideo.value.trim(),o=t.target.packCoinCost.value,i=t.target.packAudio.files[0],u=r.replaceAll(" ","-").toLowerCase(),l={title:r,description:n,image_file:a,video_file:s,coin_cost:o},e.prev=10,e.next=13,H(l);case 13:201===(p=e.sent).status&&(console.log(p),this.props.packsStore.getPacks(),this.props.createPackBoolean(!1),this.uploadFile(c,"pack_images",c.name),this.uploadFile(i,"packs/".concat(u),u)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(10),console.log(e.t0);case 20:case"end":return e.stop()}}),e,this,[[10,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(ve.jsx)("div",{className:"p-3 border rounded card-style admin-tools-item",children:Object(ve.jsxs)(xe.a,{onSubmit:function(t){return e.handleSubmitPack(t)},children:[Object(ve.jsxs)(xe.a.Group,{controlId:"packTitle",children:[Object(ve.jsx)(xe.a.Label,{children:"Title"}),Object(ve.jsx)("small",{class:"ml-2",style:{color:"green"},children:"Title will auto-capitalize first letter of each word"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"text",placeholder:"Pack Title"})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"packImage",children:[Object(ve.jsx)(xe.a.Label,{children:"Image"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"file",accept:"image/*"})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"packVideo",children:[Object(ve.jsx)(xe.a.Label,{children:"Video Embed Link"}),Object(ve.jsx)("small",{class:"ml-2",style:{color:"red"},children:"The embed url, not the regular url"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"text",placeholder:"Pack Video Link"})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"packDescription",children:[Object(ve.jsx)(xe.a.Label,{children:"Description"}),Object(ve.jsx)(xe.a.Control,{as:"textarea",required:!0,size:"md",type:"text",placeholder:"Pack Description"})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"packCoinCost",children:[Object(ve.jsx)(xe.a.Label,{children:"Coin Cost"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"number",placeholder:"Pack Coin Cost"})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"packAudio",children:[Object(ve.jsx)(xe.a.Label,{children:"Audio Package"}),Object(ve.jsx)("small",{class:"ml-2",style:{color:"red"},children:"Must be a zipped folder!"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"file",accept:".zip"})]}),Object(ve.jsx)(me.a,{variant:"outline-success",type:"submit",children:"Create Pack"})]})})}}]),r}(n.Component),Ot=Object(u.b)("packsStore")(Object(u.c)(mt)),vt=function(e){Object(je.a)(r,e);var t=Object(he.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"handleSubmitAssetType",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=this.props.packId,n=t.target.assetTypeDescription.value.trim(),a={pack_id:r,description:n},e.prev=4,e.next=7,X(a);case 7:201===e.sent.status&&(this.props.packsStore.getPacks(),this.props.createAssetTypeBoolean(!1)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(ve.jsx)("div",{className:"p-3 card-style border rounded",children:Object(ve.jsxs)(xe.a,{onSubmit:function(t){return e.handleSubmitAssetType(t)},children:[Object(ve.jsxs)(xe.a.Group,{controlId:"assetTypeDescription",children:[Object(ve.jsx)(xe.a.Label,{children:"Description"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"text",placeholder:"Asset Type Description"})]}),Object(ve.jsx)(me.a,{variant:"outline-success",type:"submit",children:"Create Asset Type"})]})})}}]),r}(n.Component),kt=Object(u.b)("packsStore")(Object(u.c)(vt)),gt=function(e){Object(je.a)(r,e);var t=Object(he.a)(r);function r(e){var n;return Object(j.a)(this,r),(n=t.call(this,e)).state={createProjectBoolean:!1,createEntryBoolean:!1,createPackBoolean:!1,createAssetTypeBoolean:!1,uploadTrackBoolean:!1},n}return Object(h.a)(r,[{key:"componentDidMount",value:function(){this.props.userStore.getUsersList(),this.props.packsStore.getPacks(),this.props.projectsStore.getProjects()}},{key:"handleToggleClick",value:function(e,t){var r;this.setState((r={},Object(Ie.a)(r,e,!this.state[e]),Object(Ie.a)(r,t,!1),r))}},{key:"handleEditClick",value:function(e){this.setState(Object(Ie.a)({},e,!this.state[e]))}},{key:"handleEditProjectSave",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,n){var a,c,s,o,i,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target.form["project".concat(r.id,"Title")].value,c=t.target.form["project".concat(r.id,"Description")].value,s=t.target.form["project".concat(r.id,"Image")].files[0]?t.target.form["project".concat(r.id,"Image")].files[0].name:null,o=t.target.form["project".concat(r.id,"Image")].files[0],i=t.target.form["project".concat(r.id,"Active")].checked,u=t.target.form["project".concat(r.id,"Complete")].checked,l={project_id:r.id},""!==a&&" "!==a&&(l.title=a),""!==c&&" "!==c&&(l.description=c),null!==s&&(l.image_file=s),r.active!==i&&(l.active=i),r.complete!==u&&(l.complete=u),!(Object.keys(l).length>1)){e.next=33;break}return e.prev=15,e.next=18,P(l);case 18:if(200!==e.sent.status){e.next=25;break}this.setState(Object(Ie.a)({},n,!1)),this.props.projectsStore.getProjects(),o&&this.uploadImageFile(o,"project_images"),e.next=26;break;case 25:throw new Error;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(15),console.log(e.t0);case 31:e.next=34;break;case 33:this.setState(Object(Ie.a)({},n,!1));case 34:case"end":return e.stop()}}),e,this,[[15,28]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"handleEditEntrySave",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,n){var a,c,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target.form["entry".concat(r.id,"Amount")].value,c=t.target.form["entry".concat(r.id,"Title")].value,t.target.form["entry".concat(r.id,"Description")].value,s=t.target.form["entry".concat(r.id,"Complete")].checked,o={entry_id:r.id},""!==a&&" "!==a&&(o.amount=a),""!==c&&" "!==c&&(o.title=c),r.complete!==s&&(o.complete=s),!(Object.keys(o).length>1)){e.next=28;break}return e.prev=11,e.next=14,U(o);case 14:if(200!==e.sent.status){e.next=20;break}this.setState(Object(Ie.a)({},n,!1)),this.props.projectsStore.getProjects(),e.next=21;break;case 20:throw new Error;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(11),console.log(e.t0);case 26:e.next=29;break;case 28:this.setState(Object(Ie.a)({},n,!1));case 29:case"end":return e.stop()}}),e,this,[[11,23]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"handleEditUserSave",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,n){var a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=Number(t.target.form["user".concat(r,"ApprovedAssetCount")].value),c=Number(t.target.form["user".concat(r,"Coins")].value),s={user_id:r},""!==a&&" "!==a&&(s.approved_asset_count=a),""!==c&&" "!==c&&(s.coins=c),!(Object.keys(s).length>1)){e.next=25;break}return e.prev=8,e.next=11,T(s);case 11:if(200!==e.sent.status){e.next=17;break}this.setState(Object(Ie.a)({},n,!1)),this.props.userStore.getUsersList(),e.next=18;break;case 17:throw new Error;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),console.log(e.t0);case 23:e.next=26;break;case 25:this.setState(Object(Ie.a)({},n,!1));case 26:case"end":return e.stop()}}),e,this,[[8,20]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"handleEditPackSave",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,n){var a,c,s,o,i,u,l,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target.form["pack".concat(r.id,"Title")].value,c=t.target.form["pack".concat(r.id,"Description")].value,s=t.target.form["pack".concat(r.id,"Image")].files[0]?t.target.form["pack".concat(r.id,"Image")].files[0].name:null,o=t.target.form["pack".concat(r.id,"Image")].files[0],i=t.target.form["pack".concat(r.id,"Video")].value.trim(),u=t.target.form["pack".concat(r.id,"CoinCost")].value,l=t.target.form["pack".concat(r.id,"Active")].checked,p={pack_id:r.id},""!==a&&" "!==a&&(p.title=a.replaceAll(" ","-").toLowerCase()),""!==c&&" "!==c&&(p.description=c),null!==s&&(p.image_file=s),""!==i&&" "!==i&&(p.video_file=i),""!==u&&" "!==u&&(p.coin_cost=u),r.active!==l&&(p.active=l),!(Object.keys(p).length>1)){e.next=35;break}return e.prev=17,e.next=20,J(p);case 20:if(200!==e.sent.status){e.next=27;break}this.setState(Object(Ie.a)({},n,!1)),this.props.packsStore.getPacks(),o&&this.uploadImageFile(o,"pack_images"),e.next=28;break;case 27:throw new Error;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(17),console.log(e.t0);case 33:e.next=36;break;case 35:this.setState(Object(Ie.a)({},n,!1));case 36:case"end":return e.stop()}}),e,this,[[17,30]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"handleEditAssetTypeSave",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target.form["assetType".concat(r,"Description")].value,c={asset_type_id:r},""!==a&&" "!==a&&(c.description=a),!(Object.keys(c).length>1)){e.next=23;break}return e.prev=6,e.next=9,Z(c);case 9:if(200!==e.sent.status){e.next=15;break}this.setState(Object(Ie.a)({},n,!1)),this.props.packsStore.getPacks(),e.next=16;break;case 15:throw new Error;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),console.log(e.t0);case 21:e.next=24;break;case 23:this.setState(Object(Ie.a)({},n,!1));case 24:case"end":return e.stop()}}),e,this,[[6,18]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"handleDeleteProject",value:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t);case 3:200===e.sent.status&&this.props.projectsStore.getProjects(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDeleteEntry",value:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G(t);case 3:200===e.sent.status&&this.props.projectsStore.getProjects(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDeletePack",value:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q(t);case 3:200===e.sent.status&&this.props.packsStore.getPacks(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDeleteAssetType",value:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$(t);case 3:200===e.sent.status&&this.props.packsStore.getPacks(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderEntriesToggleOrEdit",value:function(e,t,r){var n=this;return this.state[e]&&!this.state[t]?Object(ve.jsxs)("div",{className:"px-5",children:[Object(ve.jsxs)("p",{children:["Amount: ",r.amount]}),Object(ve.jsxs)("p",{children:["Description: ",r.description]}),Object(ve.jsxs)("p",{children:["Complete: ",r.complete?"true":"false"]})]}):this.state[e]&&this.state[t]?Object(ve.jsxs)(xe.a,{className:"p-3 card-style border rounded",children:[Object(ve.jsxs)(xe.a.Group,{controlId:"entry".concat(r.id,"Amount"),children:[Object(ve.jsx)(xe.a.Label,{children:"Amount"}),Object(ve.jsx)(xe.a.Control,{size:"md",type:"number",placeholder:r.amount})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"entry".concat(r.id,"Title"),children:[Object(ve.jsx)(xe.a.Label,{children:"Title"}),Object(ve.jsx)(xe.a.Control,{size:"md",type:"text",placeholder:r.title})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"entry".concat(r.id,"Description"),children:[Object(ve.jsx)(xe.a.Label,{children:"Description"}),Object(ve.jsx)(xe.a.Control,{as:"textarea",size:"md",type:"text",placeholder:r.description})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"entry".concat(r.id,"Complete"),children:[Object(ve.jsx)(xe.a.Label,{children:"Complete"}),Object(ve.jsx)(xe.a.Check,{size:"md",type:"switch",defaultChecked:!!r.complete})]}),Object(ve.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(ve.jsx)(me.a,{variant:"outline-success",onClick:function(e){return n.handleEditEntrySave(e,r,t)},children:"Save"}),Object(ve.jsx)(me.a,{variant:"outline-secondary",onClick:function(){return n.setState(Object(Ie.a)({},t,!1))},children:"Cancel"}),Object(ve.jsx)(me.a,{variant:"outline-danger",onClick:function(){return n.handleDeleteEntry(r.id)},children:"Delete"})]})]}):null}},{key:"renderProjectEntries",value:function(e){var t=this;return e.map((function(e){var r="entry".concat(e.id,"Toggle"),n="entry".concat(e.id,"Edit");return Object(ve.jsxs)("div",{className:"px-3",children:[Object(ve.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(ve.jsxs)(me.a,{variant:"link",onClick:function(){return t.handleToggleClick(r,n)},children:[e.title," ",t.state[r]?"\u25bc":"\u25b2"]}),Object(ve.jsx)(me.a,{variant:"link",disabled:!t.state[r],onClick:function(){return t.handleEditClick(n)},children:"Edit"})]}),t.renderEntriesToggleOrEdit(r,n,e)]},e.id)}))}},{key:"renderProjectsToggleOrEdit",value:function(e,t,r){var n=this;return this.state[e]&&!this.state[t]?Object(ve.jsxs)("div",{className:"px-3",children:[Object(ve.jsxs)("p",{children:["Description: ",r.description]}),Object(ve.jsx)(Ve.a,{className:"small-img",src:"".concat(x).concat(r.image_file),rounded:!0}),Object(ve.jsxs)("p",{children:["Active: ",r.active?"true":"false"]}),Object(ve.jsxs)("p",{children:["Complete: ",r.complete?"true":"false"]}),Object(ve.jsxs)("div",{children:[Object(ve.jsx)("p",{children:Object(ve.jsx)("b",{children:"Entries:"})}),this.renderProjectEntries(r.entries),Object(ve.jsx)(me.a,{className:"px-3 py-3",variant:"link",onClick:function(){return n.setState({createEntryBoolean:!n.state.createEntryBoolean})},children:this.state.createEntryBoolean?"- Create New Entry":"+ Create New Entry"}),this.state.createEntryBoolean?Object(ve.jsx)(xt,{projectId:r.id,createEntryBoolean:function(e){return n.setState({createEntryBoolean:e})}}):null]})]}):this.state[e]&&this.state[t]?Object(ve.jsxs)(xe.a,{className:"p-3 card-style border rounded",children:[Object(ve.jsxs)(xe.a.Group,{controlId:"project".concat(r.id,"Title"),children:[Object(ve.jsx)(xe.a.Label,{children:"Title"}),Object(ve.jsx)(xe.a.Control,{size:"md",type:"text",placeholder:r.title})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"project".concat(r.id,"Description"),children:[Object(ve.jsx)(xe.a.Label,{children:"Description"}),Object(ve.jsx)(xe.a.Control,{as:"textarea",size:"md",type:"text",placeholder:r.description})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"project".concat(r.id,"Image"),children:[Object(ve.jsx)(xe.a.Label,{children:"Image"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"file",accept:"image/*",placeholder:r.image_file})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"project".concat(r.id,"Active"),children:[Object(ve.jsx)(xe.a.Label,{children:"Active"}),Object(ve.jsx)(xe.a.Check,{size:"md",type:"switch",defaultChecked:!!r.active})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"project".concat(r.id,"Complete"),children:[Object(ve.jsx)(xe.a.Label,{children:"Complete"}),Object(ve.jsx)(xe.a.Check,{size:"md",type:"switch",defaultChecked:!!r.complete})]}),Object(ve.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(ve.jsx)(me.a,{variant:"outline-success",onClick:function(e){return n.handleEditProjectSave(e,r,t)},children:"Save"}),Object(ve.jsx)(me.a,{variant:"outline-secondary",onClick:function(){return n.setState(Object(Ie.a)({},t,!1))},children:"Cancel"}),Object(ve.jsx)(me.a,{variant:"outline-danger",onClick:function(){return n.handleDeleteProject(r.id)},children:"Delete"})]})]}):null}},{key:"renderProjects",value:function(){var e=this;return this.props.projectsStore.projectsLoading?Object(ve.jsx)(ge.a,{animation:"border",role:"status"}):this.props.projectsStore.projects?this.props.projectsStore.projects.map((function(t){var r="project".concat(t.id,"Toggle"),n="project".concat(t.id,"Edit");return Object(ve.jsxs)("div",{className:"px-3 py-1 border rounded admin-tools-item",children:[Object(ve.jsxs)("div",{className:"d-flex justify-content-between flex-wrap",children:[Object(ve.jsxs)(me.a,{variant:"link",onClick:function(){return e.handleToggleClick(r,n)},children:[t.title," ",e.state[r]?"\u25bc":"\u25b2"]}),Object(ve.jsx)(me.a,{variant:"link",disabled:!e.state[r],onClick:function(){return e.handleEditClick(n)},children:"Edit"})]}),e.renderProjectsToggleOrEdit(r,n,t)]},t.id)})):Object(ve.jsx)("p",{children:"Can't get projects!"})}},{key:"renderAssetTypesEdit",value:function(e,t){var r=this;return this.state[e]?Object(ve.jsxs)(xe.a,{className:"p-3 card-style border rounded",children:[Object(ve.jsxs)(xe.a.Group,{controlId:"assetType".concat(t.id,"Description"),children:[Object(ve.jsx)(xe.a.Label,{children:"Description"}),Object(ve.jsx)(xe.a.Control,{size:"md",type:"text",placeholder:t.description})]}),Object(ve.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(ve.jsx)(me.a,{variant:"outline-success",onClick:function(n){return r.handleEditAssetTypeSave(n,t.id,e)},children:"Save"}),Object(ve.jsx)(me.a,{variant:"outline-secondary",onClick:function(){return r.setState(Object(Ie.a)({},e,!1))},children:"Cancel"}),Object(ve.jsx)(me.a,{variant:"outline-danger",onClick:function(){return r.handleDeleteAssetType(t.id)},children:"Delete"})]})]}):null}},{key:"renderPackAssetTypes",value:function(e){var t=this;return e.map((function(e){"assetType".concat(e.id,"Toggle");var r="assetType".concat(e.id,"Edit");return Object(ve.jsxs)("div",{className:"px-3",children:[Object(ve.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(ve.jsxs)("p",{children:["~ ",e.description]}),Object(ve.jsx)(me.a,{variant:"link",onClick:function(){return t.handleEditClick(r)},children:"Edit"})]}),t.renderAssetTypesEdit(r,e)]},e.id)}))}},{key:"renderPacksToggleOrEdit",value:function(e,t,r){var n=this,a=r.title.replaceAll("-"," ").toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ");return this.state[e]&&!this.state[t]?Object(ve.jsxs)("div",{className:"px-3",children:[Object(ve.jsxs)("p",{children:["Title: ",a]}),Object(ve.jsxs)("p",{children:["Description: ",r.description]}),Object(ve.jsx)(Ve.a,{className:"small-img",src:"".concat(m).concat(r.image_file),rounded:!0}),Object(ve.jsx)("br",{}),Object(ve.jsx)("iframe",{class:"video-sm",src:r.video_file,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),Object(ve.jsxs)("p",{children:["Coin Cost: ",r.coin_cost]}),Object(ve.jsxs)("p",{children:["Active: ",r.active?"true":"false"]}),Object(ve.jsxs)("p",{children:["Downloads: ",r.downloads]}),Object(ve.jsxs)("div",{children:[Object(ve.jsx)("p",{children:Object(ve.jsx)("b",{children:"Asset Types:"})}),this.renderPackAssetTypes(r.asset_types),Object(ve.jsx)(me.a,{className:"px-3 py-3",variant:"link",onClick:function(){return n.setState({createAssetTypeBoolean:!n.state.createAssetTypeBoolean})},children:this.state.createAssetTypeBoolean?"- Create New Asset Type":"+ Create New Asset Type"}),this.state.createAssetTypeBoolean?Object(ve.jsx)(kt,{packId:r.id,createAssetTypeBoolean:function(e){return n.setState({createAssetTypeBoolean:e})}}):null]})]}):this.state[e]&&this.state[t]?Object(ve.jsxs)(xe.a,{className:"p-3 card-style border rounded",children:[Object(ve.jsxs)(xe.a.Group,{controlId:"pack".concat(r.id,"Title"),children:[Object(ve.jsx)(xe.a.Label,{children:"Title"}),Object(ve.jsx)("small",{class:"ml-2",style:{color:"green"},children:"Title will auto-capitalize first letter of each word"}),Object(ve.jsx)(xe.a.Control,{size:"md",type:"text",placeholder:a})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"pack".concat(r.id,"Description"),children:[Object(ve.jsx)(xe.a.Label,{children:"Description"}),Object(ve.jsx)(xe.a.Control,{as:"textarea",size:"md",type:"text",placeholder:r.description})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"pack".concat(r.id,"Image"),children:[Object(ve.jsx)(xe.a.Label,{children:"Image"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"file",accept:"image/*",placeholder:r.image_file})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"pack".concat(r.id,"Video"),children:[Object(ve.jsx)(xe.a.Label,{children:"Video Embed Link"}),Object(ve.jsx)("small",{class:"ml-2",style:{color:"red"},children:"The embed url, not the regular url"}),Object(ve.jsx)(xe.a.Control,{required:!0,size:"md",type:"text",placeholder:r.video_file})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"pack".concat(r.id,"CoinCost"),children:[Object(ve.jsx)(xe.a.Label,{children:"Coin Cost"}),Object(ve.jsx)(xe.a.Control,{size:"md",type:"number",placeholder:r.coin_cost})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"pack".concat(r.id,"Active"),children:[Object(ve.jsx)(xe.a.Label,{children:"Active"}),Object(ve.jsx)(xe.a.Check,{size:"md",type:"switch",defaultChecked:!!r.active})]}),Object(ve.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(ve.jsx)(me.a,{variant:"outline-success",onClick:function(e){return n.handleEditPackSave(e,r,t)},children:"Save"}),Object(ve.jsx)(me.a,{variant:"outline-secondary",onClick:function(){return n.setState(Object(Ie.a)({},t,!1))},children:"Cancel"}),Object(ve.jsx)(me.a,{variant:"outline-danger",onClick:function(){return n.handleDeletePack(r.id)},children:"Delete"})]})]}):null}},{key:"renderPacks",value:function(){var e=this;return this.props.packsStore.packsLoading?Object(ve.jsx)(ge.a,{animation:"border",role:"status"}):this.props.packsStore.packs?this.props.packsStore.packs.map((function(t){var r="pack".concat(t.id,"Toggle"),n="pack".concat(t.id,"Edit"),a=t.title.replaceAll("-"," ").toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ");return Object(ve.jsxs)("div",{className:"px-3 py-1 rounded border admin-tools-item",children:[Object(ve.jsxs)("div",{className:"d-flex justify-content-between flex-wrap",children:[Object(ve.jsxs)(me.a,{variant:"link",onClick:function(){return e.handleToggleClick(r,n)},children:[a," ",e.state[r]?"\u25bc":"\u25b2"]}),Object(ve.jsx)(me.a,{variant:"link",disabled:!e.state[r],onClick:function(){return e.handleEditClick(n)},children:"Edit"})]}),e.renderPacksToggleOrEdit(r,n,t)]},t.id)})):Object(ve.jsx)("p",{children:"Can't get packs!"})}},{key:"renderUserToggleOrEdit",value:function(e,t,r){var n=this;return this.state[e]&&!this.state[t]?Object(ve.jsx)("div",{className:"px-3 py-1",children:Object(ve.jsxs)("div",{className:"px-3",children:[Object(ve.jsxs)("p",{children:["- Approved Asset Count: ",r.approved_asset_count]}),Object(ve.jsxs)("p",{children:["- Coins: ",r.coins]})]})},r.id):this.state[e]&&this.state[t]?Object(ve.jsxs)(xe.a,{className:"p-3 card-style border rounded",children:[Object(ve.jsxs)(xe.a.Group,{controlId:"user".concat(r.id,"ApprovedAssetCount"),children:[Object(ve.jsx)(xe.a.Label,{children:"Approved Asset Count"}),Object(ve.jsx)(xe.a.Control,{size:"md",type:"number",placeholder:r.approved_asset_count})]}),Object(ve.jsxs)(xe.a.Group,{controlId:"user".concat(r.id,"Coins"),children:[Object(ve.jsx)(xe.a.Label,{children:"Coins"}),Object(ve.jsx)(xe.a.Control,{size:"md",type:"number",placeholder:r.coins})]}),Object(ve.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(ve.jsx)(me.a,{variant:"outline-success",onClick:function(e){return n.handleEditUserSave(e,r.id,t)},children:"Save"}),Object(ve.jsx)(me.a,{variant:"outline-secondary",onClick:function(){return n.setState(Object(Ie.a)({},t,!1))},children:"Cancel"})]})]}):null}},{key:"renderUsersList",value:function(){var e=this;return this.props.userStore.usersListLoading?Object(ve.jsx)(ge.a,{animation:"border",role:"status"}):this.props.userStore.usersList?this.props.userStore.usersList.map((function(t){var r="user".concat(t.id,"Toggle"),n="user".concat(t.id,"Edit");if(t.active)return Object(ve.jsxs)("div",{className:"px-3 py-1 rounded border admin-tools-item",children:[Object(ve.jsxs)("div",{className:"d-flex justify-content-between flex-wrap",children:[Object(ve.jsxs)(me.a,{variant:"link",onClick:function(){return e.handleToggleClick(r,n)},children:["".concat(t.first_name," ").concat(t.last_name," (").concat(t.username,") ").concat(t.email)," ",e.state[r]?"\u25bc":"\u25b2"]}),Object(ve.jsx)(me.a,{variant:"link",disabled:!e.state[r],onClick:function(){return e.handleEditClick(n)},children:"Edit"})]}),e.renderUserToggleOrEdit(r,n,t)]})})):Object(ve.jsx)("p",{children:"Can't get users list!"})}},{key:"uploadImageFile",value:function(){var e=Object(p.a)(d.a.mark((function e(t,r){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={bucketName:O,dirName:r,region:v,accessKeyId:k,secretAccessKey:g},a=new Ee.a(n),e.prev=2,e.next=5,a.uploadFile(t,t.name);case 5:if(204!==e.sent.status){e.next=10;break}console.log("succesful upload to aws"),e.next=11;break;case 10:throw new Error;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("failed to upload image to amazon",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(ve.jsxs)("div",{children:[Object(ve.jsx)("p",{style:{fontSize:"20px"},children:"Create"}),Object(ve.jsxs)("div",{className:"d-flex flex-column justify-content-start align-items-start",children:[Object(ve.jsx)(me.a,{className:"px-3 py-1",variant:"link",onClick:function(){return e.setState({createProjectBoolean:!e.state.createProjectBoolean})},children:this.state.createProjectBoolean?"- Create New Project":"+ Create New Project"}),this.state.createProjectBoolean?Object(ve.jsx)(bt,{createProjectBoolean:function(t){return e.setState({createProjectBoolean:t})}}):null,Object(ve.jsx)(me.a,{className:"px-3 py-1",variant:"link",onClick:function(){return e.setState({createPackBoolean:!e.state.createPackBoolean})},children:this.state.createPackBoolean?"- Create New Pack":"+ Create New Pack"}),this.state.createPackBoolean?Object(ve.jsx)(Ot,{createPackBoolean:function(t){return e.setState({createPackBoolean:t})}}):null,Object(ve.jsx)(me.a,{className:"px-3 py-1",variant:"link",onClick:function(){return e.setState({uploadTrackBoolean:!e.state.uploadTrackBoolean})},children:this.state.uploadTrackBoolean?"- Upload New Track":"+ Upload New Track"}),this.state.uploadTrackBoolean?Object(ve.jsx)(Be,{authorId:this.props.userStore.userInfo.id,uploadTrackBoolean:function(t){return e.setState({uploadTrackBoolean:t})}}):null]}),Object(ve.jsx)("hr",{}),Object(ve.jsx)("p",{style:{fontSize:"20px"},children:"Projects"}),this.renderProjects(),Object(ve.jsx)("hr",{}),Object(ve.jsx)("p",{style:{fontSize:"20px"},children:"Packs"}),this.renderPacks(),Object(ve.jsx)("hr",{}),Object(ve.jsx)("p",{style:{fontSize:"20px"},children:"Users"}),this.renderUsersList()]})}}]),r}(n.Component),yt=Object(u.b)("projectsStore","userStore","packsStore")(Object(u.c)(gt));function wt(){var e=Object(be.i)(),t=Object(n.useState)([]),r=Object(fe.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)([]),o=Object(fe.a)(s,2),i=o[0],u=o[1],l=Object(n.useState)(""),j=Object(fe.a)(l,2),h=(j[0],j[1]),b=Object(n.useState)([]),f=Object(fe.a)(b,2),x=f[0],m=f[1],O=Object(n.useState)(0),v=Object(fe.a)(O,2),k=v[0],g=v[1],y=Object(n.useState)(0),w=Object(fe.a)(y,2),S=w[0],C=w[1];function I(e){return _.apply(this,arguments)}function _(){return _=Object(p.a)(d.a.mark((function t(r){var n,s,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.getMore,u(!0),t.prev=2,t.next=5,ne(e.username,k,20);case 5:if(200!==(s=t.sent).status){t.next=14;break}return o=[],t.next=10,Promise.all(s.data.tracks.map(function(){var e=Object(p.a)(d.a.mark((function e(t){var r,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n="tracks/".concat(r),e.next=4,Je(n);case 4:a=e.sent,o.push({name:r,url:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:n?(m([].concat(Object(Le.a)(x),o)),c([].concat(Object(Le.a)(a),Object(Le.a)(s.data.tracks))),u(!1)):(m(o),c(s.data.tracks),u(!1)),C(s.data.track_count),t.next=15;break;case 14:throw new Error;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(2),u(!1),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[2,17]])}))),_.apply(this,arguments)}return Object(n.useEffect)((function(){I({getMore:!1})}),[]),Object(n.useEffect)((function(){I({getMore:!0})}),[k]),Object(ve.jsxs)("div",{children:[Object(ve.jsx)("div",{className:"mt-2 d-flex flex-row",children:Object(ve.jsx)("h4",{className:"mr-5",children:e.username})}),Object(ve.jsx)("br",{}),i?Object(ve.jsx)(ge.a,{animation:"border",role:"status"}):i||0!==a.length?0!==a.length?a.map((function(e){return Object(ve.jsx)(ve.Fragment,{children:Object(ve.jsx)(tt,{tracksURLs:x,track:e,setQuery:function(e){return h(e)}})})})):void 0:Object(ve.jsx)("p",{children:"Can't find any tracks"}),a.length!==S?Object(ve.jsx)(me.a,{variant:"link",onClick:function(){g(k+20)},children:"Get More Tracks"}):null]})}var St=function(e){Object(je.a)(r,e);var t=Object(he.a)(r);function r(e){var n;return Object(j.a)(this,r),(n=t.call(this,e)).authenticate=function(){n.setState({loadingAuth:!0},Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")){e.next=18;break}return e.prev=2,e.next=5,C();case 5:if(200!==e.sent.status){e.next=10;break}n.setState({authenticated:!0,loadingAuth:!1}),e.next=11;break;case 10:throw new Error;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.setState({authenticated:!1,loadingAuth:!1});case 16:e.next=19;break;case 18:n.setState({authenticated:!1,loadingAuth:!1});case 19:case"end":return e.stop()}}),e,null,[[2,13]])}))))},n.state={authenticated:!1,loadingAuth:!1,hideSideBar:!1},n}return Object(h.a)(r,[{key:"componentDidMount",value:function(){this.authenticate()}},{key:"render",value:function(){var e=this,t=this.state,r=t.authenticated,n=t.loadingAuth;return Object(ve.jsxs)("div",{className:"App d-flex flex-row",style:{height:"100%"},children:[this.state.hideSideBar?Object(ve.jsx)("div",{className:"d-flex flex-column sticky-top",style:{height:"40px"},children:Object(ve.jsx)("button",{className:"hide-btn ml-2",onClick:function(){return e.setState({hideSideBar:!1})},children:Object(ve.jsx)(Te.c,{style:{fontSize:"40px"}})})}):Object(ve.jsxs)("div",{className:"d-flex flex-column sticky-top border rounded card-style",style:{width:"170px",height:"100vh",backgroundColor:"white"},children:[Object(ve.jsx)(qe,{}),Object(ve.jsx)(Ke,{authenticated:r}),Object(ve.jsx)("br",{}),Object(ve.jsx)("button",{className:"hide-btn align-self-start ml-2",onClick:function(){return e.setState({hideSideBar:!0})},children:Object(ve.jsx)(Te.b,{style:{fontSize:"40px"}})})]}),Object(ve.jsx)("div",{className:"container-fluid",style:{height:"100%"},children:Object(ve.jsxs)(be.e,{children:[Object(ve.jsx)(be.c,{exact:!0,path:"/",children:Object(ve.jsx)(be.b,{to:"/login"})}),Object(ve.jsx)(be.c,{path:"/logout",children:Object(ve.jsx)(Ce,{authenticate:this.authenticate})}),Object(ve.jsx)(be.c,{path:"/library",children:Object(ve.jsx)(at,{})}),Object(ve.jsx)(be.c,{path:"/pack/:packName",children:Object(ve.jsx)(st,{})}),Object(ve.jsx)(be.c,{path:"/register",children:Object(ve.jsx)(ke,{})}),Object(ve.jsx)(be.c,{path:"/login",children:Object(ve.jsx)(we,{authenticate:this.authenticate,authenticated:r,loadingAuth:n})}),Object(ve.jsx)(be.c,{path:"/account",children:Object(ve.jsx)(Ge,{})}),Object(ve.jsx)(be.c,{path:"/profile/:username",children:Object(ve.jsx)(wt,{})}),Object(ve.jsx)(be.c,{path:"/Dashboard",children:r?Object(ve.jsx)(We,{}):Object(ve.jsx)(ot,{loadingAuth:n})}),Object(ve.jsx)(be.c,{path:"/Contribute/entry/:entryId",children:r?Object(ve.jsx)(He,{}):Object(ve.jsx)(ot,{loadingAuth:n})}),Object(ve.jsx)(be.c,{path:"/forgot_password",children:Object(ve.jsx)(ut,{})}),Object(ve.jsx)(be.c,{path:"/reset_password/:token",children:Object(ve.jsx)(lt,{})}),Object(ve.jsx)(be.c,{path:"/Manage/:id",children:r?Object(ve.jsx)(jt,{}):Object(ve.jsx)(ot,{loadingAuth:n})}),Object(ve.jsx)(be.c,{path:"/admin/tools",children:r?Object(ve.jsx)(yt,{}):Object(ve.jsx)(ot,{loadingAuth:n})}),Object(ve.jsx)(be.c,{render:function(){return Object(ve.jsx)(it,{})}})]})})]})}}]),r}(a.a.Component),Ct=Object(o.a)({},pe);var It=function(){return Object(ve.jsx)(u.a,Object(o.a)(Object(o.a)({},Ct),{},{children:Object(ve.jsx)(i.a,{children:Object(ve.jsx)(St,{})})}))};s.a.render(Object(ve.jsx)(a.a.StrictMode,{children:Object(ve.jsx)(It,{})}),document.getElementById("root"))}},[[143,1,2]]]);
//# sourceMappingURL=main.9df01422.chunk.js.map